<DataPipeModel name="SPEED_TEST_LOG1_ANOMALY" sparkMasterHost="" batchSampling="true" checkpoint="" batchDuration="P1M" useHive="auto" streamingAutoStart="false" durableStreaming="false" useStreaming="auto" is_init="false" editBy="flow" description="">
  <HiveConfig>
    <Properties>
      <Property value="" name="hive.warehouse.hdfs.source"/>
      <Property value="" name="hive.metastore.data.source"/>
      <Property value="" name="hive.server2.thrift.port"/>
      <Property value="" name="hive.db.schema"/>
    </Properties>
  </HiveConfig>
  <ModelInfo validated="true">
    <Pipes>
      <Pipe name="(main)" uuid="" index="1000"/>
    </Pipes>
    <Flows>
      <Flow showFooter="true" name="Main" revision="472" isNested="false" uuid="Main" index="1000">
        <Node height="95" width="185" y="40" x="1040" label="Baseline Anomaly Detection" type="subflow" uuid="bb5ab448-037b-4547-8a32-9de419a928a1" index="1001">
          <Source dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="AggrMetrics">
            <DataSource nodeId="727dd54e-99ce-4e82-89d2-51646aa97d55" name="baseline" id="undefined" category="#OUTPUT">
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="window_size" name="window_size"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="window_step" name="window_step"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="start_tm" name="start_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="end_tm" name="end_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="metric_id" name="metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dow" name="dow"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="algorithm" name="algorithm"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="seasonality" name="seasonality"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="aggr_metric" name="aggr_metric"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="last_interval_metric" name="last_interval_metric"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="generated_tm" name="generated_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="base_metric_id" name="base_metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dim_keys" name="dim_keys"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dim_values" name="dim_values"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="model_metric_id" name="model_metric_id"/>
            </DataSource>
          </Source>
          <Output dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="RawAnomaly">
            <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="algorithm_name" name="algorithm_name"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
            <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_median" name="baseline_median"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev" name="baseline_stdev"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad" name="baseline_mad"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_avg" name="baseline_avg"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="baseline_stats" name="baseline_stats"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="zscore" name="zscore"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="mzscore" name="mzscore"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="cscore" name="cscore"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="deviation" name="deviation"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_score" name="upper_score"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_score" name="lower_score"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_threshold" name="lower_threshold"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_threshold" name="upper_threshold"/>
            <Field isOptional="true" isArray="false" clazz="" type="integer" label="conf_id" name="conf_id"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="trigger" name="trigger"/>
            <Field isOptional="true" isArray="false" clazz="" type="boolean" label="new_metric" name="new_metric"/>
            <Field isOptional="false" isArray="false" clazz="" type="integer" label="severity" name="severity"/>
            <Field isOptional="false" isArray="false" clazz="" type="boolean" label="is_anomaly" name="is_anomaly"/>
            <Field isOptional="false" isArray="false" clazz="" type="integer" label="date_key" name="date_key"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Output dataType="class:viaops.anomaly.Dropped_Metrics" outputType="DStream" uid="1" name="DroppedMetrics">
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
            <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="reason" name="reason"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Model>
            <Properties>{&quot;subFlow&quot;:&quot;remote:///viaops.anomaly/Baseline Anomaly Detection&quot;,&quot;ServiceName&quot;:&quot;${adm_name_m}&quot;,&quot;BaselineDataSource&quot;:{&quot;dataSource&quot;:&quot;/vitria/m3o/datasource/DefaultDomain/charter_ref_db&quot;,&quot;driverType&quot;:&quot;com.mysql.jdbc.Driver&quot;},&quot;DailyBaselineTable&quot;:&quot;${baseline_table_name}&quot;,&quot;OverrideBaselineTable&quot;:&quot;${override_baseline_table_name}&quot;,&quot;PercentileTable&quot;:&quot;${percentile}&quot;,&quot;StatisticTable&quot;:&quot;${statistic}&quot;,&quot;BaselinePollRate&quot;:&quot;${pull_r}&quot;,&quot;PollRate&quot;:&quot;1&quot;,&quot;DailyCheckTime&quot;:&quot;23:50&quot;,&quot;BaselineStartDate&quot;:&quot;&quot;,&quot;KeepDays&quot;:&quot;&quot;,&quot;BaselineUpdateInterval&quot;:&quot;0&quot;,&quot;Baseline_Seasonality&quot;:&quot; &quot;}</Properties>
            <__subflow__>
              <Flow showFooter="true" name="Baseline Anomaly Detection" referenceURI="remote:///viaops.anomaly/Baseline Anomaly Detection" acceptedSourceTypes="DStream" revision="4947" isNested="true" uuid="Baseline Anomaly Detection" index="1001">
                <Node height="75" width="137" y="160" x="31" label="Baseline Load Source" type="Adhoc" uuid="cd6b3007-9e4c-4fa9-8e5d-e0faecb6d708" index="1001_1">
                  <Output referenceType="InternalBaseline" dataType="class:InternalBaseline" outputType="DStream" uid="0" name="Baseline">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="median" name="median"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="avg" name="avg"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="usage" name="usage"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Script><![CDATA[
  import org.apache.spark.streaming.dstream.{ VtBaselineInputDStream, VtBaselineSetting, ConnectionSetting }
  import org.apache.spark.sql.{ Row }
  import com.vitria.viaops.DatetimeUtil._
  import com.vitria.viaops.DFUtil._
  val globalConf = com.vitria.viaops.ad.SolGlobalConf.getGlobalConf("${ServiceName}", "${BaselineDataSource}", vtContext)
  val timezone = globalConf.timezone
  val daylightsaving = true
  def getInt(str: String, default: Int) = if (str == null || str.size == 0) default else str.toInt
  val connection = ConnectionSetting(
"${BaselineDataSource}",
ADFObject.vtContext.getProperty("vitria.domain.provider.url", ""),
ADFObject.vtContext.getProperty("vitria.domain.naming.user", ""),
ADFObject.vtContext.getProperty("vitria.domain.naming.password", ""))

  val baselineSetting = new VtBaselineSetting
  baselineSetting.setServiceName("${ServiceName}")
.setBaselineMetaDataConnectionSetting(connection)
.setBaselineMetaDataTable("viaops_anomaly_baseline_meta_store")
.setCheckOverrideBaseline((time: Time) => true)
.setDailyBaselineTable("${DailyBaselineTable}")
.setDaylightSaving(daylightsaving)
.setSeasonality("${Baseline_Seasonality}")
.setGetDailyBaseline((time: Time) =>
  getRange(time, "${DailyCheckTime}", timezone, daylightsaving))
.setOverrideBaselineTable("${OverrideBaselineTable}")
.setInitialStartDate("${BaselineStartDate}")
.setKeepDays(getInt("${KeepDays}", 0))
.setInitialBaselineInterval(getInt("${BaselineUpdateInterval}", 0))
.setTimezone(timezone)

  def converter(row: Row): InternalBaseline = {
InternalBaseline(
  row.getString(0), //dow
  row.getInt(1), //seconds_of_day
  row.getString(2), //metric_id
  row.getDouble(3), //median
  row.getDouble(4), //median_baseline
  row.getDouble(5), //mean_baseline
  row.getDouble(6), //avg
  row.getDouble(7), //stdev
  row.getDouble(8), //mad
  row.getInt(9), //usages
  row.getLong(10)) //generated_tm
  }

  val retval = new VtBaselineInputDStream[InternalBaseline](
ssc,
() => hiveContext.sparkSession,
baselineSetting,
converter)]]></Script>
                  </Model>
                </Node>
                <Node height="40" width="94.015625" y="80" x="0" label="AggrMetrics" type="inPort" uuid="84143669-19ec-47bd-80b5-ba1ab6f4c67f" index="1001_2">
                  <Output referenceType="viaops.anomaly.Aggr_Metrics" dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="Out">
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Properties>
{&quot;portType&quot;:&quot;DStream&quot;,&quot;type&quot;:{&quot;name&quot;:&quot;viaops.anomaly.Aggr_Metrics&quot;,&quot;kind&quot;:&quot;caseclass&quot;}}
</Properties>
                  </Model>
                </Node>
                <Node height="95" width="138" y="60" x="334" label="Enrich current window" type="Join" uuid="cc75431a-e2ae-4ca1-847f-a055637ae10b" index="1001_3">
                  <Source dataType="class:EnrichMetrics" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="347b676a-6948-4d66-8b03-2d4cce4cdab8" name="EnrichMetrics" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="currentdow" name="currentdow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="currentoffset" name="currentoffset"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="nextdow" name="nextdow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="nextoffset" name="nextoffset"/>
                    </DataSource>
                  </Source>
                  <Source dataType="class:InternalBaseline" outputType="DStream" uid="1" name="source2">
                    <DataSource nodeId="f085d957-efde-45b5-8add-bbe0d738c384" name="All" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median" name="median"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg" name="avg"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="usage" name="usage"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:metric_baseline1" outputType="DStream" uid="0" name="out">
                    <Field isOptional="false" isArray="false" clazz="" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="currentoffset" name="currentoffset"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="nextdow" name="nextdow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="nextoffset" name="nextoffset"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median" name="median"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg" name="avg"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model joinAlgorithms="shuffle" isClassRef="false" _caseClass="metric_baseline1" joinType="LeftOuterJoin">
                    <Predicates sleText="source1.currentdow=source2.dow and source1.currentoffset=source2.seconds_of_day and source1.metrics.metric_id=source2.metric_id"/>
                    <ProjectionsEditor>
                      <ProjectionInfo exclude="false" level="1" name="metrics" source="source1.metrics"/>
                      <ProjectionInfo exclude="true" level="1" name="currentdow" source="source1.currentdow"/>
                      <ProjectionInfo exclude="false" level="1" name="currentoffset" source="source1.currentoffset"/>
                      <ProjectionInfo exclude="false" level="1" name="nextdow" source="source1.nextdow"/>
                      <ProjectionInfo exclude="false" level="1" name="nextoffset" source="source1.nextoffset"/>
                      <ProjectionInfo exclude="true" level="1" name="dow" source="source2.dow"/>
                      <ProjectionInfo exclude="true" level="1" name="seconds_of_day" source="source2.seconds_of_day"/>
                      <ProjectionInfo exclude="false" level="1" name="median" source="source2.median"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline" source="source2.median_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline" source="source2.mean_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="avg" source="source2.avg"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev" source="source2.stdev"/>
                      <ProjectionInfo exclude="false" level="1" name="mad" source="source2.mad"/>
                      <ProjectionInfo exclude="true" level="1" name="usage" source="source2.usage"/>
                      <ProjectionInfo exclude="true" level="1" name="generated_tm" source="source2.generated_tm"/>
                      <ProjectionInfo exclude="true" level="1" name="metric_id" source="source2.metric_id"/>
                    </ProjectionsEditor>
                    <Projections>
                      <Projection label="metrics" name="metrics" source="source1.metrics"/>
                      <Projection label="currentoffset" name="currentoffset" source="source1.currentoffset"/>
                      <Projection label="nextdow" name="nextdow" source="source1.nextdow"/>
                      <Projection label="nextoffset" name="nextoffset" source="source1.nextoffset"/>
                      <Projection label="median" name="median" source="source2.median"/>
                      <Projection label="median_baseline" name="median_baseline" source="source2.median_baseline"/>
                      <Projection label="mean_baseline" name="mean_baseline" source="source2.mean_baseline"/>
                      <Projection label="avg" name="avg" source="source2.avg"/>
                      <Projection label="stdev" name="stdev" source="source2.stdev"/>
                      <Projection label="mad" name="mad" source="source2.mad"/>
                    </Projections>
                  </Model>
                </Node>
                <Node height="95" width="130" y="180" x="400" label="Enrich next window" type="Join" uuid="f0dc99da-3c62-4457-8d99-5cc29c8f261a" index="1001_4">
                  <Source dataType="class:metric_baseline1" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="cc75431a-e2ae-4ca1-847f-a055637ae10b" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="currentoffset" name="currentoffset"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="nextdow" name="nextdow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="nextoffset" name="nextoffset"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median" name="median"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg" name="avg"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                    </DataSource>
                  </Source>
                  <Source dataType="class:InternalBaseline" outputType="DStream" uid="1" name="source2">
                    <DataSource nodeId="f085d957-efde-45b5-8add-bbe0d738c384" name="All" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median" name="median"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg" name="avg"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="usage" name="usage"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:metric_baseline2" outputType="DStream" uid="0" name="out">
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="currentoffset" name="currentoffset"/>
                    <Field isOptional="false" isArray="false" clazz="" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median" name="median"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline_2" name="mean_baseline_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg" name="avg"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_2" name="median_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline_2" name="median_baseline_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg_2" name="avg_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev_2" name="stdev_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad_2" name="mad_2"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model joinAlgorithms="shuffle" isClassRef="false" _caseClass="metric_baseline2" joinType="LeftOuterJoin">
                    <Predicates sleText="source1.nextdow=source2.dow and source1.nextoffset=source2.seconds_of_day and source1.metrics.metric_id=source2.metric_id"/>
                    <ProjectionsEditor>
                      <ProjectionInfo exclude="false" level="1" name="currentoffset" source="source1.currentoffset"/>
                      <ProjectionInfo exclude="false" level="1" name="metrics" source="source1.metrics"/>
                      <ProjectionInfo exclude="true" level="1" name="nextdow" source="source1.nextdow"/>
                      <ProjectionInfo exclude="true" level="1" name="nextoffset" source="source1.nextoffset"/>
                      <ProjectionInfo exclude="false" level="1" name="median" source="source1.median"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline" source="source1.median_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline_2" source="source1.mean_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="avg" source="source1.avg"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev" source="source1.stdev"/>
                      <ProjectionInfo exclude="false" level="1" name="mad" source="source1.mad"/>
                      <ProjectionInfo exclude="true" level="1" name="dow_2" source="source2.dow"/>
                      <ProjectionInfo exclude="true" level="1" name="seconds_of_day_2" source="source2.seconds_of_day"/>
                      <ProjectionInfo exclude="false" level="1" name="median_2" source="source2.median"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline_2" source="source2.median_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline" source="source2.mean_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="avg_2" source="source2.avg"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev_2" source="source2.stdev"/>
                      <ProjectionInfo exclude="false" level="1" name="mad_2" source="source2.mad"/>
                      <ProjectionInfo exclude="true" level="1" name="usage_2" source="source2.usage"/>
                      <ProjectionInfo exclude="true" level="1" name="generated_tm_2" source="source2.generated_tm"/>
                      <ProjectionInfo exclude="true" level="1" name="metric_id" source="source2.metric_id"/>
                    </ProjectionsEditor>
                    <Projections>
                      <Projection label="currentoffset" name="currentoffset" source="source1.currentoffset"/>
                      <Projection label="metrics" name="metrics" source="source1.metrics"/>
                      <Projection label="median" name="median" source="source1.median"/>
                      <Projection label="median_baseline" name="median_baseline" source="source1.median_baseline"/>
                      <Projection label="mean_baseline_2" name="mean_baseline_2" source="source1.mean_baseline"/>
                      <Projection label="avg" name="avg" source="source1.avg"/>
                      <Projection label="stdev" name="stdev" source="source1.stdev"/>
                      <Projection label="mad" name="mad" source="source1.mad"/>
                      <Projection label="median_2" name="median_2" source="source2.median"/>
                      <Projection label="median_baseline_2" name="median_baseline_2" source="source2.median_baseline"/>
                      <Projection label="mean_baseline" name="mean_baseline" source="source2.mean_baseline"/>
                      <Projection label="avg_2" name="avg_2" source="source2.avg"/>
                      <Projection label="stdev_2" name="stdev_2" source="source2.stdev"/>
                      <Projection label="mad_2" name="mad_2" source="source2.mad"/>
                    </Projections>
                  </Model>
                </Node>
                <Node height="75" width="160" y="60" x="134" label="Enrich dow and sod" type="Adhoc" uuid="347b676a-6948-4d66-8b03-2d4cce4cdab8" index="1001_5">
                  <Source dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="84143669-19ec-47bd-80b5-ba1ab6f4c67f" name="Out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                    </DataSource>
                  </Source>
                  <Output referenceType="EnrichMetrics" dataType="class:EnrichMetrics" outputType="DStream" uid="0" name="EnrichMetrics">
                    <Field isOptional="false" isArray="false" clazz="" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="currentdow" name="currentdow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="currentoffset" name="currentoffset"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="nextdow" name="nextdow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="nextoffset" name="nextoffset"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Script><![CDATA[ import com.vitria.viaops.DatetimeUtil
  val globalConf = com.vitria.viaops.ad.SolGlobalConf.getGlobalConf("${ServiceName}","${BaselineDataSource}", vtContext)
  val timezone = globalConf.timezone
  val daylightsaving = true
  val windowsize = globalConf.window_size
  val retval = source1.map(m => {
val baselinets = m.start_tm / windowsize * windowsize 
val seasonality = if ("${Baseline_Seasonality}".trim().length == 0) m.seasonality.getOrElse("") else "${Baseline_Seasonality}"
val currentwindow = DatetimeUtil.getSecondOfDay(baselinets, seasonality, timezone, daylightsaving)
val nextwindow = DatetimeUtil.getSecondOfDay(baselinets + windowsize, seasonality, timezone, daylightsaving)
EnrichMetrics(m, currentwindow._1, currentwindow._2, nextwindow._1, nextwindow._2)
  })]]></Script>
                  </Model>
                </Node>
                <Node height="135" width="83" y="160" x="220" label="Baseline" type="Window" uuid="f085d957-efde-45b5-8add-bbe0d738c384" index="1001_6">
                  <Source dataType="class:InternalBaseline" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="cd6b3007-9e4c-4fa9-8e5d-e0faecb6d708" name="Baseline" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median" name="median"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg" name="avg"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="usage" name="usage"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:InternalBaseline" outputType="DStream" uid="0" name="All">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="median" name="median"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="avg" name="avg"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="usage" name="usage"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:InternalBaseline" outputType="DStream" uid="1" name="Changes">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="median" name="median"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="avg" name="avg"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="usage" name="usage"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:InternalBaseline" outputType="DStream" uid="2" name="Expired">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="median" name="median"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="avg" name="avg"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="usage" name="usage"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:InternalBaseline" outputType="DStream" uid="3" name="Deleted">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="median" name="median"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="avg" name="avg"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="usage" name="usage"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model restoreState="false" checkpointInterval="/S" partition="" windowPolicy="attribute">
                    <Time mode="system"/>
                    <GroupKeys numPerGroup="1" policy="latest">
                      <GroupKey field="dow"/>
                      <GroupKey field="seconds_of_day"/>
                      <GroupKey field="metric_id"/>
                    </GroupKeys>
                    <OrderFields>
                      <OrderField field="usage"/>
                      <OrderField field="generated_tm"/>
                    </OrderFields>
                    <Expirations baseline="lastevent" duration="2880/N"/>
                  </Model>
                </Node>
                <Node height="40" width="100.703125" y="172" x="1313" label="RawAnomaly" type="outPort" uuid="2cf8837b-f824-42d6-8816-0e1984156748" index="1001_7">
                  <Source dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="a951dd55-592b-4eeb-8c56-31182a345a1e" name="Anomaly" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm_name" name="algorithm_name"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_median" name="baseline_median"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev" name="baseline_stdev"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad" name="baseline_mad"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_avg" name="baseline_avg"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="baseline_stats" name="baseline_stats"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="score_method" name="score_method"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="zscore" name="zscore"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mzscore" name="mzscore"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="cscore" name="cscore"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="deviation" name="deviation"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_score" name="upper_score"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_score" name="lower_score"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_threshold" name="lower_threshold"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_threshold" name="upper_threshold"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="conf_id" name="conf_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="trigger" name="trigger"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="new_metric" name="new_metric"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="severity" name="severity"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="is_anomaly" name="is_anomaly"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="date_key" name="date_key"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                    </DataSource>
                  </Source>
                  <Model>
                    <Properties>
{&quot;type&quot;:{&quot;name&quot;:&quot;viaops.anomaly.Raw_Anomaly&quot;,&quot;kind&quot;:&quot;caseclass&quot;}}
</Properties>
                  </Model>
                </Node>
                <Node height="40" width="114.703125" y="260" x="1300" label="DroppedMetrics" type="outPort" uuid="1e6dc70e-248d-4ad1-89fb-2ae6f23dff3e" index="1001_8">
                  <Source dataType="class:viaops.anomaly.Dropped_Metrics" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="a951dd55-592b-4eeb-8c56-31182a345a1e" name="Dropped" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="reason" name="reason"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                    </DataSource>
                  </Source>
                  <Model>
                    <Properties>
{&quot;type&quot;:{&quot;name&quot;:&quot;viaops.anomaly.Dropped_Metrics&quot;,&quot;kind&quot;:&quot;caseclass&quot;}}
</Properties>
                  </Model>
                </Node>
                <Node height="95" width="120" y="180" x="1134" label="Calculate Anomaly" type="Adhoc" uuid="a951dd55-592b-4eeb-8c56-31182a345a1e" index="1001_9">
                  <Source dataType="class:Enrich_All" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="a009bbd9-8f53-4847-8cd4-8287192a21f5" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="bid" name="bid"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="name" name="name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="score_method" name="score_method"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="stat_seasonality" name="stat_seasonality"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_scale" name="lower_scale"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_scale" name="upper_scale"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median" name="median"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg" name="avg"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_2" name="median_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline_2" name="median_baseline_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline_2" name="mean_baseline_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg_2" name="avg_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev_2" name="stdev_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad_2" name="mad_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_pct" name="upper_pct"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="middle_pct" name="middle_pct"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_pct" name="lower_pct"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev_none" name="stdev_none"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad_none" name="mad_none"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev_hourly" name="stdev_hourly"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad_hourly" name="mad_hourly"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev_week_hourly" name="stdev_week_hourly"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad_week_hourly" name="mad_week_hourly"/>
                    </DataSource>
                  </Source>
                  <Output referenceType="viaops.anomaly.Raw_Anomaly" dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="Anomaly">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="algorithm_name" name="algorithm_name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_median" name="baseline_median"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev" name="baseline_stdev"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad" name="baseline_mad"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_avg" name="baseline_avg"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="baseline_stats" name="baseline_stats"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="zscore" name="zscore"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mzscore" name="mzscore"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="cscore" name="cscore"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="deviation" name="deviation"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_score" name="upper_score"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_score" name="lower_score"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_threshold" name="lower_threshold"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_threshold" name="upper_threshold"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="conf_id" name="conf_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="trigger" name="trigger"/>
                    <Field isOptional="true" isArray="false" clazz="" type="boolean" label="new_metric" name="new_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="severity" name="severity"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="is_anomaly" name="is_anomaly"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="date_key" name="date_key"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output referenceType="viaops.anomaly.Dropped_Metrics" dataType="class:viaops.anomaly.Dropped_Metrics" outputType="DStream" uid="1" name="Dropped">
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="reason" name="reason"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Script><![CDATA[
  import com.vitria.viaops.AnomalyUtil
  import com.vitria.spark.api.scala.OperatorUtils._

  def isNewMetric(metric: Enrich_All) = if (metric.avg.isEmpty || metric.avg_2.isEmpty) true else false

  def checkDropped(metric: Enrich_All) = {
val newMetric = isNewMetric(metric)
Seq(
    // take off the percentile and statistic check fo now.
    //if (!newMetric) (if (!metric.upper_pct.isEmpty) null else "Percentile") else null,
    //if (!newMetric) {
    //   if (!metric.stat_seasonality.isEmpty) metric.stat_seasonality.get match {
    //      case "none"        => if (!metric.stdev_none.isEmpty) null else "Statistic-None"
    //      case "hourly"      => if (!metric.stdev_hourly.isEmpty) null else "Statistic-Hourly"
    //      case "week-hourly" => if (!metric.stdev_week_hourly.isEmpty) null else "Statistic-Week-Hourly"
    //      case _             => null
    //    }
    //    else "Statistic"
    // } else null,
       if (!metric.lower_scale.isEmpty) null else "BaselineMetricConf"
    ).filter(_ != null).mkString(",")
  }

  source1.cache()
  val globalConf = com.vitria.viaops.ad.SolGlobalConf.getGlobalConf("${ServiceName}", "${BaselineDataSource}", vtContext)
  val windowSize = globalConf.window_size

  val enrichDropReason = source1.map(m => (m, checkDropped(m)))

  val anomaly = enrichDropReason.filter(_._2.size == 0).mapPartitions(partition => {

partition.map((metric => {
  // 1. baseline interpolation
  val baseline_avg = AnomalyUtil.interpolation(metric._1.avg, metric._1.avg_2, windowSize, metric._1.metrics.start_tm)
  //val baseline_aggr_sum = AnomalyUtil.interpolation(metric._1.aggr_sum, metric._1.aggr_sum_2, windowSize, metric._1.metrics.start_tm)
  //val baseline_parent_aggr_sum = AnomalyUtil.interpolation(metric._1.parent_aggr_sum, metric._1.parent_aggr_sum_2, windowSize, metric._1.metrics.start_tm)
  val baseline_mad = AnomalyUtil.interpolation(metric._1.mad, metric._1.mad_2, windowSize, metric._1.metrics.start_tm)
  val baseline_stdev = AnomalyUtil.interpolation(metric._1.stdev, metric._1.stdev_2, windowSize, metric._1.metrics.start_tm)
  val baseline_median = AnomalyUtil.interpolation(metric._1.median, metric._1.median_2, windowSize, metric._1.metrics.start_tm)
  val baseline_median_baseline = AnomalyUtil.interpolation(metric._1.median_baseline, metric._1.median_baseline_2, windowSize, metric._1.metrics.start_tm)
  val baseline_mean_baseline = AnomalyUtil.interpolation(metric._1.mean_baseline, metric._1.mean_baseline_2, windowSize, metric._1.metrics.start_tm)

  // Calculate the proportion against parent
  val deviation = Option(metric._1.metrics.aggr_metric) SUB baseline_median
  //val event_proportion = AnomalyUtil.devide(metric._1.metrics.aggr_sum, metric._1.metrics.aggr_parent_sum)
  //val baseline_proportion = AnomalyUtil.devide2(baseline_aggr_sum, baseline_parent_aggr_sum)
  //val deviation_proportion = AnomalyUtil.devide2(deviation, Option(metric._1.metrics.aggr_parent_sum) SUB baseline_parent_aggr_sum)

  // Scale the percentile according the scale value in baseline metric conf
  val new_upper_pct = metric._1.upper_scale MUL (metric._1.upper_pct SUB metric._1.middle_pct) ADD baseline_median
  val new_lower_pct = metric._1.lower_scale MUL (metric._1.lower_pct SUB metric._1.middle_pct) ADD baseline_median

  val stdev_mad = metric._1.stat_seasonality.get match {
case "none"        => (metric._1.stdev_none, metric._1.mad_none)
case "hourly"      => (metric._1.stdev_hourly, metric._1.mad_hourly)
case "week-hourly" => (metric._1.stdev_week_hourly, metric._1.stdev_week_hourly)
case "weekly"      => (baseline_stdev, baseline_mad)
case _             => (None, None)
  }

  // Compute ccore and anomaly.
  val anomaly = com.vitria.viaops.Anomaly(
new_upper_pct,
metric._1.middle_pct,
new_lower_pct,
metric._1.metrics.aggr_metric,
baseline_median,
baseline_median_baseline,
stdev_mad._1,
stdev_mad._2)

  val anomaly_result = AnomalyUtil.anomaly(anomaly, metric._1.score_method.get, metric._1.anomaly_trigger.get, "threshold")

  val row = viaops.anomaly.Raw_Anomaly(
metric._1.adm_name.get,
metric._1.name,
metric._1.metrics.window_size,
metric._1.metrics.window_step,
metric._1.metrics.start_tm,
metric._1.metrics.end_tm,
metric._1.metrics.generated_tm,
metric._1.metrics.metric_id,
metric._1.metrics.dow,
metric._1.metrics.algorithm,
metric._1.metrics.aggr_metric,
metric._1.metrics.last_interval_metric,
baseline_median,
metric._1.stdev_none,
metric._1.mad_none,
metric._1.stdev_hourly,
metric._1.mad_hourly,
baseline_stdev,
baseline_mad,
metric._1.stdev_week_hourly,
metric._1.mad_week_hourly,
baseline_avg,
baseline_median_baseline,
baseline_mean_baseline,
metric._1.stat_seasonality,
metric._1.score_method,
anomaly_result._1,
anomaly_result._2,
anomaly_result._3,
deviation,
anomaly_result._4,
anomaly_result._5,
None,
None,
metric._1.bid.map(_.toInt),
metric._1.anomaly_trigger,
Option(isNewMetric(metric._1)),
anomaly_result._6,
if (anomaly_result._6 == 0) true else false,
globalConf.formatDateKey(metric._1.metrics.start_tm),
metric._1.metrics.base_metric_id,
metric._1.metrics.dim_keys,
metric._1.metrics.dim_values)
  row
}))
  }, true)

  val dropped = enrichDropReason.filter(_._2.size > 0).map(metric => {
val drop = viaops.anomaly.Dropped_Metrics(
  metric._1.metrics.window_size,
  metric._1.metrics.window_step,
  metric._1.metrics.start_tm,
  metric._1.metrics.end_tm,
  metric._1.metrics.generated_tm,
  metric._1.metrics.metric_id,
  metric._1.metrics.dow,
  metric._1.metrics.algorithm,
  metric._1.metrics.seasonality,
  metric._1.metrics.aggr_metric,
  metric._1.metrics.last_interval_metric,
  metric._2,
  metric._1.metrics.base_metric_id,
  metric._1.metrics.dim_keys,
  metric._1.metrics.dim_values,
  metric._1.metrics.model_metric_id
  )
drop
  })

  val retval = (anomaly, dropped)]]></Script>
                  </Model>
                </Node>
                <Node height="75" width="130" y="250" x="40" label="MeticConf" type="JDBCStream" uuid="18e43a0b-6266-46a7-8956-44c1b81e7d66" index="1001_10">
                  <Output dataType="class:viaops.anomaly.baseline.conf.Baseline_Conf" outputType="DStream" uid="0" name="out">
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="bid" name="bid"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="stat_seasonality" name="stat_seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="lower_scale" name="lower_scale"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="upper_scale" name="upper_scale"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model dataSource="/vitria/m3o/datasource/DefaultDomain/charter_ref_db" dataVolume="" dataSpeed="" isClassRef="true" caseClass="viaops.anomaly.baseline.conf.Baseline_Conf" sourceType="jdbc" type="jdbcStream">
                    <__binding__><![CDATA[{"dataSource":"BaselineDataSource"}]]></__binding__>
                    <Schema>
                      <Field wrapName="bid" isOptional="false" isArray="false" clazz="" type="long" label="bid" name="bid"/>
                      <Field wrapName="adm_name" isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                      <Field wrapName="name" isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                      <Field wrapName="metric_id" isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                      <Field wrapName="score_method" isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                      <Field wrapName="stat_seasonality" isOptional="true" isArray="false" clazz="" type="string" label="stat_seasonality" name="stat_seasonality"/>
                      <Field wrapName="anomaly_trigger" isOptional="true" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field wrapName="lower_scale" isOptional="true" isArray="false" clazz="" type="double" label="lower_scale" name="lower_scale"/>
                      <Field wrapName="upper_scale" isOptional="true" isArray="false" clazz="" type="double" label="upper_scale" name="upper_scale"/>
                      <Field wrapName="enabled" isOptional="true" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                      <Field wrapName="modified_ts" isOptional="true" isArray="false" clazz="" type="datetime" label="modified_ts" name="modified_ts"/>
                    </Schema>
                    <datasource name="/vitria/m3o/datasource/DefaultDomain/charter_ref_db"/>
                    <query>
                      <table info="{&quot;catalog&quot;:&quot;charter_ref_db&quot;,&quot;name&quot;:&quot;viaops_anomaly_baseline_score&quot;,&quot;type&quot;:&quot;TABLE&quot;}" defaultSchema="charter_ref_db" schema="charter_ref_db">viaops_anomaly_baseline_score</table>
                      <columns>
                        <column>bid</column>
                        <column>adm_name</column>
                        <column>name</column>
                        <column>metric_id</column>
                        <column>score_method</column>
                        <column>stat_seasonality</column>
                        <column>anomaly_trigger</column>
                        <column>lower_scale</column>
                        <column>upper_scale</column>
                        <column>enabled</column>
                      </columns>
                      <growColumns/>
                      <filter>adm_name=&apos;${ServiceName}&apos; and enabled=1</filter>
                      <incremental>false</incremental>
                    </query>
                    <pollRate value="NaN" every="${BaselinePollRate}/m"/>
                  </Model>
                </Node>
                <Node height="135" width="83" y="289" x="388" label="Metric Conf" type="Window" uuid="72ea5c3f-0366-4456-879c-df4c8e9bdcb4" index="1001_11">
                  <Source dataType="class:viaops.anomaly.baseline.conf.Baseline_Conf" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="18e43a0b-6266-46a7-8956-44c1b81e7d66" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="bid" name="bid"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="name" name="name"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="score_method" name="score_method"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="stat_seasonality" name="stat_seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_scale" name="lower_scale"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_scale" name="upper_scale"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:viaops.anomaly.baseline.conf.Baseline_Conf" outputType="DStream" uid="0" name="All">
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="bid" name="bid"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="stat_seasonality" name="stat_seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="lower_scale" name="lower_scale"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="upper_scale" name="upper_scale"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:viaops.anomaly.baseline.conf.Baseline_Conf" outputType="DStream" uid="1" name="Changes">
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="bid" name="bid"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="stat_seasonality" name="stat_seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="lower_scale" name="lower_scale"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="upper_scale" name="upper_scale"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:viaops.anomaly.baseline.conf.Baseline_Conf" outputType="DStream" uid="2" name="Expired">
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="bid" name="bid"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="stat_seasonality" name="stat_seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="lower_scale" name="lower_scale"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="upper_scale" name="upper_scale"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:viaops.anomaly.baseline.conf.Baseline_Conf" outputType="DStream" uid="3" name="Deleted">
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="bid" name="bid"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="stat_seasonality" name="stat_seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="lower_scale" name="lower_scale"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="upper_scale" name="upper_scale"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model restoreState="false" checkpointInterval="/S" partition="" windowPolicy="attribute">
                    <Time mode="system"/>
                    <GroupKeys numPerGroup="1" policy="latest">
                      <GroupKey field="metric_id"/>
                    </GroupKeys>
                    <Expirations baseline="lastevent" duration="/S"/>
                  </Model>
                </Node>
                <Node height="95" width="119" y="60" x="580" label="Enrich Metric Conf" type="Join" uuid="b65d127d-c8c3-4619-8d8c-16868c2dc6f2" index="1001_12">
                  <Source dataType="class:metric_baseline2" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="f0dc99da-3c62-4457-8d99-5cc29c8f261a" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="currentoffset" name="currentoffset"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median" name="median"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline_2" name="mean_baseline_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg" name="avg"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_2" name="median_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline_2" name="median_baseline_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg_2" name="avg_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev_2" name="stdev_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad_2" name="mad_2"/>
                    </DataSource>
                  </Source>
                  <Source dataType="class:viaops.anomaly.baseline.conf.Baseline_Conf" outputType="DStream" uid="1" name="source2">
                    <DataSource nodeId="72ea5c3f-0366-4456-879c-df4c8e9bdcb4" name="All" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="bid" name="bid"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="name" name="name"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="score_method" name="score_method"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="stat_seasonality" name="stat_seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_scale" name="lower_scale"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_scale" name="upper_scale"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:Metric_Baseline_Conf" outputType="DStream" uid="0" name="out">
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="currentoffset" name="currentoffset"/>
                    <Field isOptional="false" isArray="false" clazz="" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median" name="median"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg" name="avg"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_2" name="median_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline_2" name="median_baseline_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline_2" name="mean_baseline_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg_2" name="avg_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev_2" name="stdev_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad_2" name="mad_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="long" label="bid" name="bid"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="stat_seasonality" name="stat_seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_scale" name="lower_scale"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_scale" name="upper_scale"/>
                    <Field isOptional="true" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model joinAlgorithms="broadcast" isClassRef="false" _caseClass="Metric_Baseline_Conf" joinType="LeftOuterJoin">
                    <Predicates sleText="source1.metrics.model_metric_id= source2.metric_id"/>
                    <ProjectionsEditor>
                      <ProjectionInfo exclude="false" level="1" name="currentoffset" source="source1.currentoffset"/>
                      <ProjectionInfo exclude="false" level="1" name="metrics" source="source1.metrics"/>
                      <ProjectionInfo exclude="false" level="1" name="median" source="source1.median"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline" source="source1.median_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline" source="source1.mean_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="avg" source="source1.avg"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev" source="source1.stdev"/>
                      <ProjectionInfo exclude="false" level="1" name="mad" source="source1.mad"/>
                      <ProjectionInfo exclude="false" level="1" name="median_2" source="source1.median_2"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline_2" source="source1.median_baseline_2"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline_2" source="source1.mean_baseline_2"/>
                      <ProjectionInfo exclude="false" level="1" name="avg_2" source="source1.avg_2"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev_2" source="source1.stdev_2"/>
                      <ProjectionInfo exclude="false" level="1" name="mad_2" source="source1.mad_2"/>
                      <ProjectionInfo exclude="false" level="1" name="bid" source="source2.bid"/>
                      <ProjectionInfo exclude="false" level="1" name="adm_name" source="source2.adm_name"/>
                      <ProjectionInfo exclude="false" level="1" name="name" source="source2.name"/>
                      <ProjectionInfo exclude="false" level="1" name="metric_id" source="source2.metric_id"/>
                      <ProjectionInfo exclude="false" level="1" name="score_method" source="source2.score_method"/>
                      <ProjectionInfo exclude="false" level="1" name="stat_seasonality" source="source2.stat_seasonality"/>
                      <ProjectionInfo exclude="false" level="1" name="anomaly_trigger" source="source2.anomaly_trigger"/>
                      <ProjectionInfo exclude="false" level="1" name="lower_scale" source="source2.lower_scale"/>
                      <ProjectionInfo exclude="false" level="1" name="upper_scale" source="source2.upper_scale"/>
                      <ProjectionInfo exclude="false" level="1" name="enabled" source="source2.enabled"/>
                    </ProjectionsEditor>
                    <Projections>
                      <Projection label="currentoffset" name="currentoffset" source="source1.currentoffset"/>
                      <Projection label="metrics" name="metrics" source="source1.metrics"/>
                      <Projection label="median" name="median" source="source1.median"/>
                      <Projection label="median_baseline" name="median_baseline" source="source1.median_baseline"/>
                      <Projection label="mean_baseline" name="mean_baseline" source="source1.mean_baseline"/>
                      <Projection label="avg" name="avg" source="source1.avg"/>
                      <Projection label="stdev" name="stdev" source="source1.stdev"/>
                      <Projection label="mad" name="mad" source="source1.mad"/>
                      <Projection label="median_2" name="median_2" source="source1.median_2"/>
                      <Projection label="median_baseline_2" name="median_baseline_2" source="source1.median_baseline_2"/>
                      <Projection label="mean_baseline_2" name="mean_baseline_2" source="source1.mean_baseline_2"/>
                      <Projection label="avg_2" name="avg_2" source="source1.avg_2"/>
                      <Projection label="stdev_2" name="stdev_2" source="source1.stdev_2"/>
                      <Projection label="mad_2" name="mad_2" source="source1.mad_2"/>
                      <Projection label="bid" name="bid" source="source2.bid"/>
                      <Projection label="adm_name" name="adm_name" source="source2.adm_name"/>
                      <Projection label="name" name="name" source="source2.name"/>
                      <Projection label="metric_id" name="metric_id" source="source2.metric_id"/>
                      <Projection label="score_method" name="score_method" source="source2.score_method"/>
                      <Projection label="stat_seasonality" name="stat_seasonality" source="source2.stat_seasonality"/>
                      <Projection label="anomaly_trigger" name="anomaly_trigger" source="source2.anomaly_trigger"/>
                      <Projection label="lower_scale" name="lower_scale" source="source2.lower_scale"/>
                      <Projection label="upper_scale" name="upper_scale" source="source2.upper_scale"/>
                      <Projection label="enabled" name="enabled" source="source2.enabled"/>
                    </Projections>
                  </Model>
                </Node>
                <Node height="75" width="130" y="340" x="40" label="Load Percentile " type="Adhoc" uuid="d77c33ad-ca41-4c14-82d5-ae3f1a43b5a5" index="1001_13">
                  <Output referenceType="InternalPercentile" dataType="class:InternalPercentile" outputType="DStream" uid="0" name="Percentile ">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="upper_pct" name="upper_pct"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="middle_pct" name="middle_pct"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="lower_pct" name="lower_pct"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Script><![CDATA[ import org.apache.spark.streaming.dstream.{ VtFullTableInputDStream, VtFullTableSetting }
 import org.apache.spark.sql.{ Row }
 import com.vitria.viaops.DFUtil._
 val fullTableSetting = new VtFullTableSetting
 fullTableSetting.setServiceName("${ServiceName}")
 .setFullTableName("${PercentileTable}")
 .setPollRate("${PollRate}".toInt)
 .setSelectColumns("metric_id, upper_pct, middle_pct, lower_pct")
 .setTsColumn("generated_tm")
 
   def converter(row: Row): InternalPercentile = {
     InternalPercentile(
       row.getString(0), //metric_id
       row.getDouble(1), //upper_pct
       row.getDouble(2), //middle_pct
       row.getDouble(3)) //lower_pct
    }
                         
 val retval = new VtFullTableInputDStream[InternalPercentile](
  ssc,
  () => hiveContext.sparkSession,
  fullTableSetting,
  converter)
          ]]></Script>
                  </Model>
                </Node>
                <Node height="135" width="83" y="320" x="500" label="Percentile" type="Window" uuid="41347c67-2790-4ac3-877a-0c6349227a73" index="1001_14">
                  <Source dataType="class:InternalPercentile" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="d77c33ad-ca41-4c14-82d5-ae3f1a43b5a5" name="Percentile " id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_pct" name="upper_pct"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="middle_pct" name="middle_pct"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_pct" name="lower_pct"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:InternalPercentile" outputType="DStream" uid="0" name="All">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="upper_pct" name="upper_pct"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="middle_pct" name="middle_pct"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="lower_pct" name="lower_pct"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:InternalPercentile" outputType="DStream" uid="1" name="Changes">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="upper_pct" name="upper_pct"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="middle_pct" name="middle_pct"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="lower_pct" name="lower_pct"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:InternalPercentile" outputType="DStream" uid="2" name="Expired">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="upper_pct" name="upper_pct"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="middle_pct" name="middle_pct"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="lower_pct" name="lower_pct"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:InternalPercentile" outputType="DStream" uid="3" name="Deleted">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="upper_pct" name="upper_pct"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="middle_pct" name="middle_pct"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="lower_pct" name="lower_pct"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model restoreState="false" checkpointInterval="/S" partition="" windowPolicy="attribute">
                    <Time mode="system"/>
                    <GroupKeys numPerGroup="1" policy="latest">
                      <GroupKey field="metric_id"/>
                    </GroupKeys>
                    <Expirations baseline="lastevent" duration="/S"/>
                  </Model>
                </Node>
                <Node height="95" width="111" y="180" x="600" label="Enrich Percentile" type="Join" uuid="a3c731eb-1dda-4be1-8f09-30a252c14d40" index="1001_15">
                  <Source dataType="class:Metric_Baseline_Conf" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="b65d127d-c8c3-4619-8d8c-16868c2dc6f2" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="currentoffset" name="currentoffset"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median" name="median"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg" name="avg"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_2" name="median_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline_2" name="median_baseline_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline_2" name="mean_baseline_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg_2" name="avg_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev_2" name="stdev_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad_2" name="mad_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="bid" name="bid"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="name" name="name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="score_method" name="score_method"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="stat_seasonality" name="stat_seasonality"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_scale" name="lower_scale"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_scale" name="upper_scale"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                    </DataSource>
                  </Source>
                  <Source dataType="class:InternalPercentile" outputType="DStream" uid="1" name="source2">
                    <DataSource nodeId="41347c67-2790-4ac3-877a-0c6349227a73" name="All" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_pct" name="upper_pct"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="middle_pct" name="middle_pct"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_pct" name="lower_pct"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:Metric_Baseline_Conf_Percentile" outputType="DStream" uid="0" name="out">
                    <Field isOptional="true" isArray="false" clazz="" type="long" label="bid" name="bid"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="stat_seasonality" name="stat_seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_scale" name="lower_scale"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_scale" name="upper_scale"/>
                    <Field isOptional="true" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="currentoffset" name="currentoffset"/>
                    <Field isOptional="false" isArray="false" clazz="" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median" name="median"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg" name="avg"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_2" name="median_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline_2" name="median_baseline_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline_2" name="mean_baseline_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg_2" name="avg_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev_2" name="stdev_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad_2" name="mad_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_pct" name="upper_pct"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="middle_pct" name="middle_pct"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_pct" name="lower_pct"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model joinAlgorithms="broadcast" isClassRef="false" _caseClass="Metric_Baseline_Conf_Percentile" joinType="LeftOuterJoin">
                    <Predicates sleText="source1.metrics.metric_id = source2.metric_id"/>
                    <ProjectionsEditor>
                      <ProjectionInfo exclude="false" level="1" name="bid" source="source1.bid"/>
                      <ProjectionInfo exclude="false" level="1" name="adm_name" source="source1.adm_name"/>
                      <ProjectionInfo exclude="false" level="1" name="name" source="source1.name"/>
                      <ProjectionInfo exclude="false" level="1" name="metric_id" source="source1.metric_id"/>
                      <ProjectionInfo exclude="false" level="1" name="score_method" source="source1.score_method"/>
                      <ProjectionInfo exclude="false" level="1" name="stat_seasonality" source="source1.stat_seasonality"/>
                      <ProjectionInfo exclude="false" level="1" name="anomaly_trigger" source="source1.anomaly_trigger"/>
                      <ProjectionInfo exclude="false" level="1" name="lower_scale" source="source1.lower_scale"/>
                      <ProjectionInfo exclude="false" level="1" name="upper_scale" source="source1.upper_scale"/>
                      <ProjectionInfo exclude="false" level="1" name="enabled" source="source1.enabled"/>
                      <ProjectionInfo exclude="false" level="1" name="currentoffset" source="source1.currentoffset"/>
                      <ProjectionInfo exclude="false" level="1" name="metrics" source="source1.metrics"/>
                      <ProjectionInfo exclude="false" level="1" name="median" source="source1.median"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline" source="source1.median_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline" source="source1.mean_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="avg" source="source1.avg"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev" source="source1.stdev"/>
                      <ProjectionInfo exclude="false" level="1" name="mad" source="source1.mad"/>
                      <ProjectionInfo exclude="false" level="1" name="median_2" source="source1.median_2"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline_2" source="source1.median_baseline_2"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline_2" source="source1.mean_baseline_2"/>
                      <ProjectionInfo exclude="false" level="1" name="avg_2" source="source1.avg_2"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev_2" source="source1.stdev_2"/>
                      <ProjectionInfo exclude="false" level="1" name="mad_2" source="source1.mad_2"/>
                      <ProjectionInfo exclude="false" level="1" name="upper_pct" source="source2.upper_pct"/>
                      <ProjectionInfo exclude="false" level="1" name="middle_pct" source="source2.middle_pct"/>
                      <ProjectionInfo exclude="false" level="1" name="lower_pct" source="source2.lower_pct"/>
                      <ProjectionInfo exclude="true" level="1" name="metric_id_3" source="source2.metric_id"/>
                    </ProjectionsEditor>
                    <Projections>
                      <Projection label="bid" name="bid" source="source1.bid"/>
                      <Projection label="adm_name" name="adm_name" source="source1.adm_name"/>
                      <Projection label="name" name="name" source="source1.name"/>
                      <Projection label="metric_id" name="metric_id" source="source1.metric_id"/>
                      <Projection label="score_method" name="score_method" source="source1.score_method"/>
                      <Projection label="stat_seasonality" name="stat_seasonality" source="source1.stat_seasonality"/>
                      <Projection label="anomaly_trigger" name="anomaly_trigger" source="source1.anomaly_trigger"/>
                      <Projection label="lower_scale" name="lower_scale" source="source1.lower_scale"/>
                      <Projection label="upper_scale" name="upper_scale" source="source1.upper_scale"/>
                      <Projection label="enabled" name="enabled" source="source1.enabled"/>
                      <Projection label="currentoffset" name="currentoffset" source="source1.currentoffset"/>
                      <Projection label="metrics" name="metrics" source="source1.metrics"/>
                      <Projection label="median" name="median" source="source1.median"/>
                      <Projection label="median_baseline" name="median_baseline" source="source1.median_baseline"/>
                      <Projection label="mean_baseline" name="mean_baseline" source="source1.mean_baseline"/>
                      <Projection label="avg" name="avg" source="source1.avg"/>
                      <Projection label="stdev" name="stdev" source="source1.stdev"/>
                      <Projection label="mad" name="mad" source="source1.mad"/>
                      <Projection label="median_2" name="median_2" source="source1.median_2"/>
                      <Projection label="median_baseline_2" name="median_baseline_2" source="source1.median_baseline_2"/>
                      <Projection label="mean_baseline_2" name="mean_baseline_2" source="source1.mean_baseline_2"/>
                      <Projection label="avg_2" name="avg_2" source="source1.avg_2"/>
                      <Projection label="stdev_2" name="stdev_2" source="source1.stdev_2"/>
                      <Projection label="mad_2" name="mad_2" source="source1.mad_2"/>
                      <Projection label="upper_pct" name="upper_pct" source="source2.upper_pct"/>
                      <Projection label="middle_pct" name="middle_pct" source="source2.middle_pct"/>
                      <Projection label="lower_pct" name="lower_pct" source="source2.lower_pct"/>
                    </Projections>
                  </Model>
                </Node>
                <Node height="75" width="130" y="426" x="40" label="Load Statistic" type="Adhoc" uuid="53842b7e-0f44-425e-8a09-e82dc28918bf" index="1001_16">
                  <Output referenceType="InternalStatistic" dataType="class:InternalStatistic" outputType="DStream" uid="0" name="Percentile ">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Script><![CDATA[ import org.apache.spark.streaming.dstream.{ VtStatisticTableInputDStream, VtFullTableSetting }
 import org.apache.spark.sql.{ Row }
 import com.vitria.viaops.DFUtil._
 val fullTableSetting = new VtFullTableSetting
 fullTableSetting.setServiceName("${ServiceName}")
 .setFullTableName("${StatisticTable}")
 .setPollRate("${PollRate}".toInt)
 .setSelectColumns("metric_id, seasonality, dow, seconds_of_day, stdev, mad")
 .setTsColumn("generated_tm")
 
  def converter(row: Row): InternalStatistic = {
    InternalStatistic(
     row.getString(0), //metric_id
     row.getString(1), //seasonality
     getOptionString(row, 2), //dow
     getOptionInt(row, 3), //seconds_of_day
     row.getDouble(4), //stdev
     row.getDouble(5)) //mad
   }
 
 val retval = new VtStatisticTableInputDStream[InternalStatistic](
   ssc,
   () => hiveContext.sparkSession,
   fullTableSetting,
   converter)
   ]]></Script>
                  </Model>
                </Node>
                <Node height="135" width="83" y="349" x="620" label="Statistic" type="Window" uuid="7e6e5186-3b4d-46b5-813f-e7080906d1e6" index="1001_17">
                  <Source dataType="class:InternalStatistic" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="53842b7e-0f44-425e-8a09-e82dc28918bf" name="Percentile " id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:InternalStatistic" outputType="DStream" uid="0" name="All">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:InternalStatistic" outputType="DStream" uid="1" name="Changes">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:InternalStatistic" outputType="DStream" uid="2" name="Expired">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:InternalStatistic" outputType="DStream" uid="3" name="Deleted">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model restoreState="false" checkpointInterval="/S" partition="" windowPolicy="attribute">
                    <Time mode="system"/>
                    <GroupKeys numPerGroup="1" policy="latest">
                      <GroupKey field="metric_id"/>
                      <GroupKey field="seasonality"/>
                      <GroupKey field="dow"/>
                      <GroupKey field="seconds_of_day"/>
                    </GroupKeys>
                    <Expirations baseline="lastevent" duration="/S"/>
                  </Model>
                </Node>
                <Node height="135" width="120" y="220" x="760" label="Router" type="Router" uuid="68e47939-a871-414d-892d-fa91827d8126" index="1001_18">
                  <Source dataType="class:InternalStatistic" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="7e6e5186-3b4d-46b5-813f-e7080906d1e6" name="All" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:InternalStatistic" outputType="DStream" uid="0" name="None">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:InternalStatistic" outputType="DStream" uid="2" name="Hourly">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:InternalStatistic" outputType="DStream" uid="5" name="Week-hourly">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:InternalStatistic" outputType="DStream" uid="3" name="Week">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Properties>
{&quot;sleExpressions&quot;:[{&quot;_id&quot;:&quot;cc1a1b6b-5fdc-49f9-83c8-ec2075d2c953&quot;,&quot;sleExpression&quot;:{&quot;text&quot;:&quot;seasonality =\&quot;none\&quot;&quot;,&quot;type&quot;:&quot;boolean&quot;,&quot;option&quot;:false},&quot;label&quot;:&quot;None&quot;},{&quot;_id&quot;:&quot;3af28f06-2b5b-4575-8e07-80fff26ea16e&quot;,&quot;sleExpression&quot;:{&quot;text&quot;:&quot;seasonality =\&quot;hourly\&quot;&quot;,&quot;type&quot;:&quot;boolean&quot;,&quot;option&quot;:false},&quot;label&quot;:&quot;Hourly&quot;},{&quot;_id&quot;:&quot;749f761a-49a8-4243-8bad-1fcd5941e596&quot;,&quot;sleExpression&quot;:{&quot;text&quot;:&quot;seasonality =\&quot;week-hourly\&quot;&quot;,&quot;type&quot;:&quot;boolean&quot;,&quot;option&quot;:false},&quot;label&quot;:&quot;Week-hourly&quot;},{&quot;_id&quot;:&quot;2f0ae96d-01de-4b3f-8a9c-ade8b5768adc&quot;,&quot;sleExpression&quot;:{&quot;text&quot;:&quot;seasonality =\&quot;week\&quot;&quot;,&quot;type&quot;:&quot;boolean&quot;,&quot;option&quot;:false},&quot;label&quot;:&quot;Week&quot;}]}
</Properties>
                  </Model>
                </Node>
                <Node height="95" width="130" y="60" x="768" label="Enrich None Sta" type="Join" uuid="74ddd949-7370-4ee5-8b9d-d6f8f78ef7fe" index="1001_19">
                  <Source dataType="class:Metric_Baseline_Conf_Percentile" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="a3c731eb-1dda-4be1-8f09-30a252c14d40" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="bid" name="bid"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="name" name="name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="score_method" name="score_method"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="stat_seasonality" name="stat_seasonality"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_scale" name="lower_scale"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_scale" name="upper_scale"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="currentoffset" name="currentoffset"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median" name="median"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg" name="avg"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_2" name="median_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline_2" name="median_baseline_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline_2" name="mean_baseline_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg_2" name="avg_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev_2" name="stdev_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad_2" name="mad_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_pct" name="upper_pct"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="middle_pct" name="middle_pct"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_pct" name="lower_pct"/>
                    </DataSource>
                  </Source>
                  <Source dataType="class:InternalStatistic" outputType="DStream" uid="1" name="source2">
                    <DataSource nodeId="68e47939-a871-414d-892d-fa91827d8126" name="None" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:Statistic_None" outputType="DStream" uid="0" name="out">
                    <Field isOptional="true" isArray="false" clazz="" type="long" label="bid" name="bid"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="stat_seasonality" name="stat_seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_scale" name="lower_scale"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_scale" name="upper_scale"/>
                    <Field isOptional="true" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="currentoffset" name="currentoffset"/>
                    <Field isOptional="false" isArray="false" clazz="" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median" name="median"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg" name="avg"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_2" name="median_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline_2" name="median_baseline_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline_2" name="mean_baseline_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg_2" name="avg_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev_2" name="stdev_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad_2" name="mad_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_pct" name="upper_pct"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="middle_pct" name="middle_pct"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_pct" name="lower_pct"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev_none" name="stdev_none"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad_none" name="mad_none"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model joinAlgorithms="shuffle" isClassRef="false" _caseClass="Statistic_None" joinType="LeftOuterJoin">
                    <Predicates sleText="source1.metrics.metric_id = source2.metric_id"/>
                    <ProjectionsEditor>
                      <ProjectionInfo exclude="false" level="1" name="bid" source="source1.bid"/>
                      <ProjectionInfo exclude="false" level="1" name="adm_name" source="source1.adm_name"/>
                      <ProjectionInfo exclude="false" level="1" name="name" source="source1.name"/>
                      <ProjectionInfo exclude="false" level="1" name="metric_id" source="source1.metric_id"/>
                      <ProjectionInfo exclude="false" level="1" name="score_method" source="source1.score_method"/>
                      <ProjectionInfo exclude="false" level="1" name="stat_seasonality" source="source1.stat_seasonality"/>
                      <ProjectionInfo exclude="false" level="1" name="anomaly_trigger" source="source1.anomaly_trigger"/>
                      <ProjectionInfo exclude="false" level="1" name="lower_scale" source="source1.lower_scale"/>
                      <ProjectionInfo exclude="false" level="1" name="upper_scale" source="source1.upper_scale"/>
                      <ProjectionInfo exclude="false" level="1" name="enabled" source="source1.enabled"/>
                      <ProjectionInfo exclude="false" level="1" name="currentoffset" source="source1.currentoffset"/>
                      <ProjectionInfo exclude="false" level="1" name="metrics" source="source1.metrics"/>
                      <ProjectionInfo exclude="false" level="1" name="median" source="source1.median"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline" source="source1.median_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline" source="source1.mean_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="avg" source="source1.avg"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev" source="source1.stdev"/>
                      <ProjectionInfo exclude="false" level="1" name="mad" source="source1.mad"/>
                      <ProjectionInfo exclude="false" level="1" name="median_2" source="source1.median_2"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline_2" source="source1.median_baseline_2"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline_2" source="source1.mean_baseline_2"/>
                      <ProjectionInfo exclude="false" level="1" name="avg_2" source="source1.avg_2"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev_2" source="source1.stdev_2"/>
                      <ProjectionInfo exclude="false" level="1" name="mad_2" source="source1.mad_2"/>
                      <ProjectionInfo exclude="false" level="1" name="upper_pct" source="source1.upper_pct"/>
                      <ProjectionInfo exclude="false" level="1" name="middle_pct" source="source1.middle_pct"/>
                      <ProjectionInfo exclude="false" level="1" name="lower_pct" source="source1.lower_pct"/>
                      <ProjectionInfo exclude="true" level="1" name="seasonality" source="source2.seasonality"/>
                      <ProjectionInfo exclude="true" level="1" name="dow" source="source2.dow"/>
                      <ProjectionInfo exclude="true" level="1" name="seconds_of_day" source="source2.seconds_of_day"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev_none" source="source2.stdev"/>
                      <ProjectionInfo exclude="false" level="1" name="mad_none" source="source2.mad"/>
                      <ProjectionInfo exclude="true" level="1" name="metric_id_4" source="source2.metric_id"/>
                    </ProjectionsEditor>
                    <Projections>
                      <Projection label="bid" name="bid" source="source1.bid"/>
                      <Projection label="adm_name" name="adm_name" source="source1.adm_name"/>
                      <Projection label="name" name="name" source="source1.name"/>
                      <Projection label="metric_id" name="metric_id" source="source1.metric_id"/>
                      <Projection label="score_method" name="score_method" source="source1.score_method"/>
                      <Projection label="stat_seasonality" name="stat_seasonality" source="source1.stat_seasonality"/>
                      <Projection label="anomaly_trigger" name="anomaly_trigger" source="source1.anomaly_trigger"/>
                      <Projection label="lower_scale" name="lower_scale" source="source1.lower_scale"/>
                      <Projection label="upper_scale" name="upper_scale" source="source1.upper_scale"/>
                      <Projection label="enabled" name="enabled" source="source1.enabled"/>
                      <Projection label="currentoffset" name="currentoffset" source="source1.currentoffset"/>
                      <Projection label="metrics" name="metrics" source="source1.metrics"/>
                      <Projection label="median" name="median" source="source1.median"/>
                      <Projection label="median_baseline" name="median_baseline" source="source1.median_baseline"/>
                      <Projection label="mean_baseline" name="mean_baseline" source="source1.mean_baseline"/>
                      <Projection label="avg" name="avg" source="source1.avg"/>
                      <Projection label="stdev" name="stdev" source="source1.stdev"/>
                      <Projection label="mad" name="mad" source="source1.mad"/>
                      <Projection label="median_2" name="median_2" source="source1.median_2"/>
                      <Projection label="median_baseline_2" name="median_baseline_2" source="source1.median_baseline_2"/>
                      <Projection label="mean_baseline_2" name="mean_baseline_2" source="source1.mean_baseline_2"/>
                      <Projection label="avg_2" name="avg_2" source="source1.avg_2"/>
                      <Projection label="stdev_2" name="stdev_2" source="source1.stdev_2"/>
                      <Projection label="mad_2" name="mad_2" source="source1.mad_2"/>
                      <Projection label="upper_pct" name="upper_pct" source="source1.upper_pct"/>
                      <Projection label="middle_pct" name="middle_pct" source="source1.middle_pct"/>
                      <Projection label="lower_pct" name="lower_pct" source="source1.lower_pct"/>
                      <Projection label="stdev_none" name="stdev_none" source="source2.stdev"/>
                      <Projection label="mad_none" name="mad_none" source="source2.mad"/>
                    </Projections>
                  </Model>
                </Node>
                <Node height="95" width="130" y="60" x="950" label="Enrich Hourly sta" type="Join" uuid="f1ff997c-6f3b-4657-8f70-70c304dc2d29" index="1001_20">
                  <Source dataType="class:Statistic_None" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="74ddd949-7370-4ee5-8b9d-d6f8f78ef7fe" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="bid" name="bid"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="name" name="name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="score_method" name="score_method"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="stat_seasonality" name="stat_seasonality"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_scale" name="lower_scale"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_scale" name="upper_scale"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="currentoffset" name="currentoffset"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median" name="median"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg" name="avg"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_2" name="median_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline_2" name="median_baseline_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline_2" name="mean_baseline_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg_2" name="avg_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev_2" name="stdev_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad_2" name="mad_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_pct" name="upper_pct"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="middle_pct" name="middle_pct"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_pct" name="lower_pct"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev_none" name="stdev_none"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad_none" name="mad_none"/>
                    </DataSource>
                  </Source>
                  <Source dataType="class:InternalStatistic" outputType="DStream" uid="1" name="source2">
                    <DataSource nodeId="68e47939-a871-414d-892d-fa91827d8126" name="Hourly" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:Statistic_Hourly" outputType="DStream" uid="0" name="out">
                    <Field isOptional="true" isArray="false" clazz="" type="long" label="bid" name="bid"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="stat_seasonality" name="stat_seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_scale" name="lower_scale"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_scale" name="upper_scale"/>
                    <Field isOptional="true" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="currentoffset" name="currentoffset"/>
                    <Field isOptional="false" isArray="false" clazz="" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median" name="median"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg" name="avg"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_2" name="median_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline_2" name="median_baseline_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline_2" name="mean_baseline_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg_2" name="avg_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev_2" name="stdev_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad_2" name="mad_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_pct" name="upper_pct"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="middle_pct" name="middle_pct"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_pct" name="lower_pct"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev_none" name="stdev_none"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad_none" name="mad_none"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev_hourly" name="stdev_hourly"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad_hourly" name="mad_hourly"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model joinAlgorithms="shuffle" isClassRef="false" _caseClass="Statistic_Hourly" joinType="LeftOuterJoin">
                    <Predicates sleText="source1.metrics.metric_id = source2.metric_id and source1.currentoffset = source2.seconds_of_day"/>
                    <ProjectionsEditor>
                      <ProjectionInfo exclude="false" level="1" name="bid" source="source1.bid"/>
                      <ProjectionInfo exclude="false" level="1" name="adm_name" source="source1.adm_name"/>
                      <ProjectionInfo exclude="false" level="1" name="name" source="source1.name"/>
                      <ProjectionInfo exclude="false" level="1" name="metric_id" source="source1.metric_id"/>
                      <ProjectionInfo exclude="false" level="1" name="score_method" source="source1.score_method"/>
                      <ProjectionInfo exclude="false" level="1" name="stat_seasonality" source="source1.stat_seasonality"/>
                      <ProjectionInfo exclude="false" level="1" name="anomaly_trigger" source="source1.anomaly_trigger"/>
                      <ProjectionInfo exclude="false" level="1" name="lower_scale" source="source1.lower_scale"/>
                      <ProjectionInfo exclude="false" level="1" name="upper_scale" source="source1.upper_scale"/>
                      <ProjectionInfo exclude="false" level="1" name="enabled" source="source1.enabled"/>
                      <ProjectionInfo exclude="false" level="1" name="currentoffset" source="source1.currentoffset"/>
                      <ProjectionInfo exclude="false" level="1" name="metrics" source="source1.metrics"/>
                      <ProjectionInfo exclude="false" level="1" name="median" source="source1.median"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline" source="source1.median_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline" source="source1.mean_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="avg" source="source1.avg"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev" source="source1.stdev"/>
                      <ProjectionInfo exclude="false" level="1" name="mad" source="source1.mad"/>
                      <ProjectionInfo exclude="false" level="1" name="median_2" source="source1.median_2"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline_2" source="source1.median_baseline_2"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline_2" source="source1.mean_baseline_2"/>
                      <ProjectionInfo exclude="false" level="1" name="avg_2" source="source1.avg_2"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev_2" source="source1.stdev_2"/>
                      <ProjectionInfo exclude="false" level="1" name="mad_2" source="source1.mad_2"/>
                      <ProjectionInfo exclude="false" level="1" name="upper_pct" source="source1.upper_pct"/>
                      <ProjectionInfo exclude="false" level="1" name="middle_pct" source="source1.middle_pct"/>
                      <ProjectionInfo exclude="false" level="1" name="lower_pct" source="source1.lower_pct"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev_none" source="source1.stdev_none"/>
                      <ProjectionInfo exclude="false" level="1" name="mad_none" source="source1.mad_none"/>
                      <ProjectionInfo exclude="true" level="1" name="seasonality" source="source2.seasonality"/>
                      <ProjectionInfo exclude="true" level="1" name="dow" source="source2.dow"/>
                      <ProjectionInfo exclude="true" level="1" name="seconds_of_day" source="source2.seconds_of_day"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev_hourly" source="source2.stdev"/>
                      <ProjectionInfo exclude="false" level="1" name="mad_hourly" source="source2.mad"/>
                      <ProjectionInfo exclude="true" level="1" name="metric_id_5" source="source2.metric_id"/>
                    </ProjectionsEditor>
                    <Projections>
                      <Projection label="bid" name="bid" source="source1.bid"/>
                      <Projection label="adm_name" name="adm_name" source="source1.adm_name"/>
                      <Projection label="name" name="name" source="source1.name"/>
                      <Projection label="metric_id" name="metric_id" source="source1.metric_id"/>
                      <Projection label="score_method" name="score_method" source="source1.score_method"/>
                      <Projection label="stat_seasonality" name="stat_seasonality" source="source1.stat_seasonality"/>
                      <Projection label="anomaly_trigger" name="anomaly_trigger" source="source1.anomaly_trigger"/>
                      <Projection label="lower_scale" name="lower_scale" source="source1.lower_scale"/>
                      <Projection label="upper_scale" name="upper_scale" source="source1.upper_scale"/>
                      <Projection label="enabled" name="enabled" source="source1.enabled"/>
                      <Projection label="currentoffset" name="currentoffset" source="source1.currentoffset"/>
                      <Projection label="metrics" name="metrics" source="source1.metrics"/>
                      <Projection label="median" name="median" source="source1.median"/>
                      <Projection label="median_baseline" name="median_baseline" source="source1.median_baseline"/>
                      <Projection label="mean_baseline" name="mean_baseline" source="source1.mean_baseline"/>
                      <Projection label="avg" name="avg" source="source1.avg"/>
                      <Projection label="stdev" name="stdev" source="source1.stdev"/>
                      <Projection label="mad" name="mad" source="source1.mad"/>
                      <Projection label="median_2" name="median_2" source="source1.median_2"/>
                      <Projection label="median_baseline_2" name="median_baseline_2" source="source1.median_baseline_2"/>
                      <Projection label="mean_baseline_2" name="mean_baseline_2" source="source1.mean_baseline_2"/>
                      <Projection label="avg_2" name="avg_2" source="source1.avg_2"/>
                      <Projection label="stdev_2" name="stdev_2" source="source1.stdev_2"/>
                      <Projection label="mad_2" name="mad_2" source="source1.mad_2"/>
                      <Projection label="upper_pct" name="upper_pct" source="source1.upper_pct"/>
                      <Projection label="middle_pct" name="middle_pct" source="source1.middle_pct"/>
                      <Projection label="lower_pct" name="lower_pct" source="source1.lower_pct"/>
                      <Projection label="stdev_none" name="stdev_none" source="source1.stdev_none"/>
                      <Projection label="mad_none" name="mad_none" source="source1.mad_none"/>
                      <Projection label="stdev_hourly" name="stdev_hourly" source="source2.stdev"/>
                      <Projection label="mad_hourly" name="mad_hourly" source="source2.mad"/>
                    </Projections>
                  </Model>
                </Node>
                <Node height="95" width="130" y="185" x="956" label="Enrich Weekly Hourly" type="Join" uuid="a009bbd9-8f53-4847-8cd4-8287192a21f5" index="1001_21">
                  <Source dataType="class:Statistic_Hourly" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="f1ff997c-6f3b-4657-8f70-70c304dc2d29" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="bid" name="bid"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="name" name="name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="score_method" name="score_method"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="stat_seasonality" name="stat_seasonality"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_scale" name="lower_scale"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_scale" name="upper_scale"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="currentoffset" name="currentoffset"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median" name="median"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg" name="avg"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_2" name="median_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline_2" name="median_baseline_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline_2" name="mean_baseline_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="avg_2" name="avg_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev_2" name="stdev_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad_2" name="mad_2"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_pct" name="upper_pct"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="middle_pct" name="middle_pct"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_pct" name="lower_pct"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev_none" name="stdev_none"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad_none" name="mad_none"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev_hourly" name="stdev_hourly"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad_hourly" name="mad_hourly"/>
                    </DataSource>
                  </Source>
                  <Source dataType="class:InternalStatistic" outputType="DStream" uid="1" name="source2">
                    <DataSource nodeId="68e47939-a871-414d-892d-fa91827d8126" name="Week-hourly" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="seconds_of_day" name="seconds_of_day"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="stdev" name="stdev"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mad" name="mad"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:Enrich_All" outputType="DStream" uid="0" name="out">
                    <Field isOptional="true" isArray="false" clazz="" type="long" label="bid" name="bid"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="stat_seasonality" name="stat_seasonality"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_scale" name="lower_scale"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_scale" name="upper_scale"/>
                    <Field isOptional="true" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <Field isOptional="false" isArray="false" clazz="" type="viaops.anomaly.Aggr_Metrics" label="metrics" name="metrics"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="viaops.anomaly.Aggr_Metrics" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median" name="median"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg" name="avg"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev" name="stdev"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad" name="mad"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_2" name="median_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline_2" name="median_baseline_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline_2" name="mean_baseline_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="avg_2" name="avg_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev_2" name="stdev_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad_2" name="mad_2"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_pct" name="upper_pct"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="middle_pct" name="middle_pct"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_pct" name="lower_pct"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev_none" name="stdev_none"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad_none" name="mad_none"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev_hourly" name="stdev_hourly"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad_hourly" name="mad_hourly"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="stdev_week_hourly" name="stdev_week_hourly"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mad_week_hourly" name="mad_week_hourly"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model joinAlgorithms="shuffle" isClassRef="false" _caseClass="Enrich_All" joinType="LeftOuterJoin">
                    <Predicates sleText="source1.metrics.metric_id = source2.metric_id and source1.metrics.dow = source2.dow and source1.currentoffset = source2.seconds_of_day"/>
                    <ProjectionsEditor>
                      <ProjectionInfo exclude="false" level="1" name="bid" source="source1.bid"/>
                      <ProjectionInfo exclude="false" level="1" name="adm_name" source="source1.adm_name"/>
                      <ProjectionInfo exclude="false" level="1" name="name" source="source1.name"/>
                      <ProjectionInfo exclude="false" level="1" name="metric_id" source="source1.metric_id"/>
                      <ProjectionInfo exclude="false" level="1" name="score_method" source="source1.score_method"/>
                      <ProjectionInfo exclude="false" level="1" name="stat_seasonality" source="source1.stat_seasonality"/>
                      <ProjectionInfo exclude="false" level="1" name="anomaly_trigger" source="source1.anomaly_trigger"/>
                      <ProjectionInfo exclude="false" level="1" name="lower_scale" source="source1.lower_scale"/>
                      <ProjectionInfo exclude="false" level="1" name="upper_scale" source="source1.upper_scale"/>
                      <ProjectionInfo exclude="false" level="1" name="enabled" source="source1.enabled"/>
                      <ProjectionInfo exclude="true" level="1" name="currentoffset" source="source1.currentoffset"/>
                      <ProjectionInfo exclude="false" level="1" name="metrics" source="source1.metrics"/>
                      <ProjectionInfo exclude="false" level="1" name="median" source="source1.median"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline" source="source1.median_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline" source="source1.mean_baseline"/>
                      <ProjectionInfo exclude="false" level="1" name="avg" source="source1.avg"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev" source="source1.stdev"/>
                      <ProjectionInfo exclude="false" level="1" name="mad" source="source1.mad"/>
                      <ProjectionInfo exclude="false" level="1" name="median_2" source="source1.median_2"/>
                      <ProjectionInfo exclude="false" level="1" name="median_baseline_2" source="source1.median_baseline_2"/>
                      <ProjectionInfo exclude="false" level="1" name="mean_baseline_2" source="source1.mean_baseline_2"/>
                      <ProjectionInfo exclude="false" level="1" name="avg_2" source="source1.avg_2"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev_2" source="source1.stdev_2"/>
                      <ProjectionInfo exclude="false" level="1" name="mad_2" source="source1.mad_2"/>
                      <ProjectionInfo exclude="false" level="1" name="upper_pct" source="source1.upper_pct"/>
                      <ProjectionInfo exclude="false" level="1" name="middle_pct" source="source1.middle_pct"/>
                      <ProjectionInfo exclude="false" level="1" name="lower_pct" source="source1.lower_pct"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev_none" source="source1.stdev_none"/>
                      <ProjectionInfo exclude="false" level="1" name="mad_none" source="source1.mad_none"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev_hourly" source="source1.stdev_hourly"/>
                      <ProjectionInfo exclude="false" level="1" name="mad_hourly" source="source1.mad_hourly"/>
                      <ProjectionInfo exclude="true" level="1" name="seasonality" source="source2.seasonality"/>
                      <ProjectionInfo exclude="true" level="1" name="dow" source="source2.dow"/>
                      <ProjectionInfo exclude="true" level="1" name="seconds_of_day" source="source2.seconds_of_day"/>
                      <ProjectionInfo exclude="false" level="1" name="stdev_week_hourly" source="source2.stdev"/>
                      <ProjectionInfo exclude="false" level="1" name="mad_week_hourly" source="source2.mad"/>
                      <ProjectionInfo exclude="true" level="1" name="metric_id_6" source="source2.metric_id"/>
                    </ProjectionsEditor>
                    <Projections>
                      <Projection label="bid" name="bid" source="source1.bid"/>
                      <Projection label="adm_name" name="adm_name" source="source1.adm_name"/>
                      <Projection label="name" name="name" source="source1.name"/>
                      <Projection label="metric_id" name="metric_id" source="source1.metric_id"/>
                      <Projection label="score_method" name="score_method" source="source1.score_method"/>
                      <Projection label="stat_seasonality" name="stat_seasonality" source="source1.stat_seasonality"/>
                      <Projection label="anomaly_trigger" name="anomaly_trigger" source="source1.anomaly_trigger"/>
                      <Projection label="lower_scale" name="lower_scale" source="source1.lower_scale"/>
                      <Projection label="upper_scale" name="upper_scale" source="source1.upper_scale"/>
                      <Projection label="enabled" name="enabled" source="source1.enabled"/>
                      <Projection label="metrics" name="metrics" source="source1.metrics"/>
                      <Projection label="median" name="median" source="source1.median"/>
                      <Projection label="median_baseline" name="median_baseline" source="source1.median_baseline"/>
                      <Projection label="mean_baseline" name="mean_baseline" source="source1.mean_baseline"/>
                      <Projection label="avg" name="avg" source="source1.avg"/>
                      <Projection label="stdev" name="stdev" source="source1.stdev"/>
                      <Projection label="mad" name="mad" source="source1.mad"/>
                      <Projection label="median_2" name="median_2" source="source1.median_2"/>
                      <Projection label="median_baseline_2" name="median_baseline_2" source="source1.median_baseline_2"/>
                      <Projection label="mean_baseline_2" name="mean_baseline_2" source="source1.mean_baseline_2"/>
                      <Projection label="avg_2" name="avg_2" source="source1.avg_2"/>
                      <Projection label="stdev_2" name="stdev_2" source="source1.stdev_2"/>
                      <Projection label="mad_2" name="mad_2" source="source1.mad_2"/>
                      <Projection label="upper_pct" name="upper_pct" source="source1.upper_pct"/>
                      <Projection label="middle_pct" name="middle_pct" source="source1.middle_pct"/>
                      <Projection label="lower_pct" name="lower_pct" source="source1.lower_pct"/>
                      <Projection label="stdev_none" name="stdev_none" source="source1.stdev_none"/>
                      <Projection label="mad_none" name="mad_none" source="source1.mad_none"/>
                      <Projection label="stdev_hourly" name="stdev_hourly" source="source1.stdev_hourly"/>
                      <Projection label="mad_hourly" name="mad_hourly" source="source1.mad_hourly"/>
                      <Projection label="stdev_week_hourly" name="stdev_week_hourly" source="source2.stdev"/>
                      <Projection label="mad_week_hourly" name="mad_week_hourly" source="source2.mad"/>
                    </Projections>
                  </Model>
                </Node>
                <Link tgtPort="in:0" tgtId="1e6dc70e-248d-4ad1-89fb-2ae6f23dff3e" srcPort="dout:1" srcId="a951dd55-592b-4eeb-8c56-31182a345a1e"/>
                <Link tgtPort="in:0" tgtId="2cf8837b-f824-42d6-8816-0e1984156748" srcPort="dout:0" srcId="a951dd55-592b-4eeb-8c56-31182a345a1e"/>
                <Link tgtPort="din:0" tgtId="f1ff997c-6f3b-4657-8f70-70c304dc2d29" srcPort="out:0" srcId="74ddd949-7370-4ee5-8b9d-d6f8f78ef7fe"/>
                <Link tgtPort="in:0" tgtId="68e47939-a871-414d-892d-fa91827d8126" srcPort="dout:0" srcId="7e6e5186-3b4d-46b5-813f-e7080906d1e6"/>
                <Link tgtPort="in:0" tgtId="7e6e5186-3b4d-46b5-813f-e7080906d1e6" srcPort="dout:0" srcId="53842b7e-0f44-425e-8a09-e82dc28918bf"/>
                <Link tgtPort="din:0" tgtId="a3c731eb-1dda-4be1-8f09-30a252c14d40" srcPort="out:0" srcId="b65d127d-c8c3-4619-8d8c-16868c2dc6f2"/>
                <Link tgtPort="din:1" tgtId="a3c731eb-1dda-4be1-8f09-30a252c14d40" srcPort="dout:0" srcId="41347c67-2790-4ac3-877a-0c6349227a73"/>
                <Link tgtPort="in:0" tgtId="41347c67-2790-4ac3-877a-0c6349227a73" srcPort="dout:0" srcId="d77c33ad-ca41-4c14-82d5-ae3f1a43b5a5"/>
                <Link tgtPort="din:1" tgtId="b65d127d-c8c3-4619-8d8c-16868c2dc6f2" srcPort="dout:0" srcId="72ea5c3f-0366-4456-879c-df4c8e9bdcb4"/>
                <Link tgtPort="din:0" tgtId="b65d127d-c8c3-4619-8d8c-16868c2dc6f2" srcPort="out:0" srcId="f0dc99da-3c62-4457-8d99-5cc29c8f261a"/>
                <Link tgtPort="din:0" tgtId="cc75431a-e2ae-4ca1-847f-a055637ae10b" srcPort="dout:0" srcId="347b676a-6948-4d66-8b03-2d4cce4cdab8"/>
                <Link tgtPort="din:0" tgtId="347b676a-6948-4d66-8b03-2d4cce4cdab8" srcPort="out:0" srcId="84143669-19ec-47bd-80b5-ba1ab6f4c67f"/>
                <Link tgtPort="din:0" tgtId="f0dc99da-3c62-4457-8d99-5cc29c8f261a" srcPort="out:0" srcId="cc75431a-e2ae-4ca1-847f-a055637ae10b"/>
                <Link tgtPort="in:0" tgtId="f085d957-efde-45b5-8add-bbe0d738c384" srcPort="dout:0" srcId="cd6b3007-9e4c-4fa9-8e5d-e0faecb6d708"/>
                <Link tgtPort="din:1" tgtId="cc75431a-e2ae-4ca1-847f-a055637ae10b" srcPort="dout:0" srcId="f085d957-efde-45b5-8add-bbe0d738c384"/>
                <Link tgtPort="din:1" tgtId="f0dc99da-3c62-4457-8d99-5cc29c8f261a" srcPort="dout:0" srcId="f085d957-efde-45b5-8add-bbe0d738c384"/>
                <Link tgtPort="din:0" tgtId="74ddd949-7370-4ee5-8b9d-d6f8f78ef7fe" srcPort="out:0" srcId="a3c731eb-1dda-4be1-8f09-30a252c14d40"/>
                <Link tgtPort="din:1" tgtId="74ddd949-7370-4ee5-8b9d-d6f8f78ef7fe" srcPort="dout:0" srcId="68e47939-a871-414d-892d-fa91827d8126"/>
                <Link tgtPort="din:1" tgtId="f1ff997c-6f3b-4657-8f70-70c304dc2d29" srcPort="dout:2" srcId="68e47939-a871-414d-892d-fa91827d8126"/>
                <Link tgtPort="din:0" tgtId="a951dd55-592b-4eeb-8c56-31182a345a1e" srcPort="out:0" srcId="a009bbd9-8f53-4847-8cd4-8287192a21f5"/>
                <Link tgtPort="din:0" tgtId="a009bbd9-8f53-4847-8cd4-8287192a21f5" srcPort="out:0" srcId="f1ff997c-6f3b-4657-8f70-70c304dc2d29"/>
                <Link tgtPort="din:1" tgtId="a009bbd9-8f53-4847-8cd4-8287192a21f5" srcPort="dout:5" srcId="68e47939-a871-414d-892d-fa91827d8126"/>
                <Link tgtPort="in:0" tgtId="72ea5c3f-0366-4456-879c-df4c8e9bdcb4" srcPort="out:0" srcId="18e43a0b-6266-46a7-8956-44c1b81e7d66"/>
                <Codes/>
                <Libraries>
                  <Lib systemPath="${VTBA_HOME}/VIAOps/libs/AnomalyDetection-1.0.jar" scope="system"/>
                </Libraries>
                <Resources/>
                <Properties>[{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;ServiceName&quot;,&quot;label&quot;:&quot;Anomaly Detection Method Name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;_dataSourceSelector&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;name&quot;:&quot;BaselineDataSource&quot;,&quot;label&quot;:&quot;Anomaly Configuration Datasource&quot;,&quot;type&quot;:&quot;object&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:{&quot;dataSource&quot;:&quot;/vitria/m3o/datasource/DefaultDomain/charter_ref_db&quot;},&quot;constraints&quot;:{&quot;type&quot;:&quot;dataSource&quot;,&quot;args&quot;:{}},&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;DailyBaselineTable&quot;,&quot;label&quot;:&quot;Daily Baseline Table&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;baseline&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;OverrideBaselineTable&quot;,&quot;label&quot;:&quot;Override Baseline Table&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;override_baseline&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;PercentileTable&quot;,&quot;label&quot;:&quot;Percentile Table&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;percentile&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;StatisticTable&quot;,&quot;label&quot;:&quot;Statistic Table&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;statistic&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;BaselinePollRate&quot;,&quot;label&quot;:&quot;Poll Rate For Baseline Conf (Minutes)&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;5&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;PollRate&quot;,&quot;label&quot;:&quot;Poll Rate For Percentile And Statistic (Minutes)&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;1440&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;DailyCheckTime&quot;,&quot;label&quot;:&quot;Baseline Daily Check Time&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;23:50&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;BaselineStartDate&quot;,&quot;label&quot;:&quot;Initial Baseline Start Date (Global Solution Timezone)&quot;,&quot;type&quot;:&quot;string&quot;,&quot;optional&quot;:true,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;KeepDays&quot;,&quot;label&quot;:&quot;Keep Baseline (Days)&quot;,&quot;type&quot;:&quot;string&quot;,&quot;optional&quot;:true,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;BaselineUpdateInterval&quot;,&quot;label&quot;:&quot;Baseline Update Interval (Minutes)&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;0&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;sparkSelect&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;,&quot;options.dow&quot;:&quot;constraints.args.options.0.label&quot;,&quot;options.ww&quot;:&quot;constraints.args.options.1.label&quot;,&quot;options. &quot;:&quot;constraints.args.options.2.label&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;Baseline_Seasonality&quot;,&quot;label&quot;:&quot;Baseline Seasonality&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot; &quot;,&quot;constraints&quot;:{&quot;type&quot;:&quot;sparkSelect&quot;,&quot;args&quot;:{&quot;options&quot;:[{&quot;label&quot;:&quot;Day Of Week&quot;,&quot;value&quot;:&quot;dow&quot;},{&quot;label&quot;:&quot;Weekday Weekend&quot;,&quot;value&quot;:&quot;ww&quot;},{&quot;label&quot;:&quot;Default&quot;,&quot;value&quot;:&quot; &quot;}],&quot;needPlaceholder&quot;:true,&quot;multiple&quot;:false,&quot;url&quot;:&quot;http://10.101.7.163:18080/vitria-oi/rest/app/spark/space/VIAOps Anomaly/sparkm/VIAOps - Baseline Anomaly Detection&quot;,&quot;_cid&quot;:&quot;6b0943f6-c375-4e54-8ee9-68ed891d5129&quot;,&quot;name&quot;:&quot;defaultValueForExisted&quot;}},&quot;runtimeControl&quot;:false}]</Properties>
                <Types>[{&quot;name&quot;:&quot;EnrichMetrics&quot;,&quot;namespace&quot;:&quot;&quot;,&quot;schema&quot;:[{&quot;name&quot;:&quot;metrics&quot;,&quot;type&quot;:&quot;viaops.anomaly.Aggr_Metrics&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;currentdow&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;currentoffset&quot;,&quot;type&quot;:&quot;integer&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;nextdow&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;nextoffset&quot;,&quot;type&quot;:&quot;integer&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false}]},{&quot;name&quot;:&quot;InternalBaseline&quot;,&quot;namespace&quot;:&quot;&quot;,&quot;schema&quot;:[{&quot;name&quot;:&quot;dow&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;seconds_of_day&quot;,&quot;type&quot;:&quot;integer&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;metric_id&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;median&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;median_baseline&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;mean_baseline&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;avg&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;stdev&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;mad&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;usage&quot;,&quot;type&quot;:&quot;integer&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;generated_tm&quot;,&quot;type&quot;:&quot;long&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false}]},{&quot;name&quot;:&quot;InternalPercentile&quot;,&quot;namespace&quot;:&quot;&quot;,&quot;schema&quot;:[{&quot;name&quot;:&quot;metric_id&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;upper_pct&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;middle_pct&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;lower_pct&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false}]},{&quot;name&quot;:&quot;InternalStatistic&quot;,&quot;namespace&quot;:&quot;&quot;,&quot;schema&quot;:[{&quot;name&quot;:&quot;metric_id&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;seasonality&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;dow&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:true,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;seconds_of_day&quot;,&quot;type&quot;:&quot;integer&quot;,&quot;_isOptional&quot;:true,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;stdev&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;mad&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false}]}]</Types>
              </Flow>
            </__subflow__>
            <__binding__><![CDATA[{"BaselineDataSource":"dataSource"}]]></__binding__>
          </Model>
        </Node>
        <Node height="75" width="130" y="40" x="1320" label="AnomalyPersistence" type="subflow" uuid="9fe5fa8b-9bb3-45ed-84ef-4f81d83a270e" index="1002">
          <Source dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="In">
            <DataSource nodeId="9d55632e-3d68-4d3d-80fb-3ec12f8041a4" name="RawAnomaly" id="undefined" category="#OUTPUT">
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="adm_name" name="adm_name"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="algorithm_name" name="algorithm_name"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="window_size" name="window_size"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="window_step" name="window_step"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="start_tm" name="start_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="end_tm" name="end_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="generated_tm" name="generated_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="metric_id" name="metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dow" name="dow"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="algorithm" name="algorithm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="aggr_metric" name="aggr_metric"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="last_interval_metric" name="last_interval_metric"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_median" name="baseline_median"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_stdev" name="baseline_stdev"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_mad" name="baseline_mad"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_avg" name="baseline_avg"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="median_baseline" name="median_baseline"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="mean_baseline" name="mean_baseline"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="baseline_stats" name="baseline_stats"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="score_method" name="score_method"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="zscore" name="zscore"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="mzscore" name="mzscore"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="cscore" name="cscore"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="deviation" name="deviation"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="upper_score" name="upper_score"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="lower_score" name="lower_score"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="lower_threshold" name="lower_threshold"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="upper_threshold" name="upper_threshold"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="integer" label="conf_id" name="conf_id"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="trigger" name="trigger"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="boolean" label="new_metric" name="new_metric"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="integer" label="severity" name="severity"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="boolean" label="is_anomaly" name="is_anomaly"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="integer" label="date_key" name="date_key"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="base_metric_id" name="base_metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dim_keys" name="dim_keys"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dim_values" name="dim_values"/>
            </DataSource>
          </Source>
          <Output dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="Out">
            <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="algorithm_name" name="algorithm_name"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
            <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_median" name="baseline_median"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev" name="baseline_stdev"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad" name="baseline_mad"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_avg" name="baseline_avg"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="baseline_stats" name="baseline_stats"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="zscore" name="zscore"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="mzscore" name="mzscore"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="cscore" name="cscore"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="deviation" name="deviation"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_score" name="upper_score"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_score" name="lower_score"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_threshold" name="lower_threshold"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_threshold" name="upper_threshold"/>
            <Field isOptional="true" isArray="false" clazz="" type="integer" label="conf_id" name="conf_id"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="trigger" name="trigger"/>
            <Field isOptional="true" isArray="false" clazz="" type="boolean" label="new_metric" name="new_metric"/>
            <Field isOptional="false" isArray="false" clazz="" type="integer" label="severity" name="severity"/>
            <Field isOptional="false" isArray="false" clazz="" type="boolean" label="is_anomaly" name="is_anomaly"/>
            <Field isOptional="false" isArray="false" clazz="" type="integer" label="date_key" name="date_key"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Model>
            <Properties>
{&quot;subFlow&quot;:&quot;remote:///viaops.anomaly/AnomalyPersistence&quot;,&quot;anomaly_table_name&quot;:&quot;${anomaly}&quot;,&quot;output_partition_number&quot;:&quot;1&quot;}
</Properties>
            <__subflow__>
              <Flow showFooter="true" name="AnomalyPersistence" referenceURI="remote:///viaops.anomaly/AnomalyPersistence" acceptedSourceTypes="RDD,DStream,DataFrame" revision="95" isNested="true" uuid="AnomalyPersistence" index="1002">
                <Node height="40" width="70" y="43" x="121" label="In" type="inPort" uuid="f7cc2fc6-1004-4a0e-825f-0cabd9b874f7" index="1002_1">
                  <Output referenceType="viaops.anomaly.Raw_Anomaly" dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="Out">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="algorithm_name" name="algorithm_name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_median" name="baseline_median"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev" name="baseline_stdev"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad" name="baseline_mad"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_avg" name="baseline_avg"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="baseline_stats" name="baseline_stats"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="zscore" name="zscore"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mzscore" name="mzscore"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="cscore" name="cscore"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="deviation" name="deviation"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_score" name="upper_score"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_score" name="lower_score"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_threshold" name="lower_threshold"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_threshold" name="upper_threshold"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="conf_id" name="conf_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="trigger" name="trigger"/>
                    <Field isOptional="true" isArray="false" clazz="" type="boolean" label="new_metric" name="new_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="severity" name="severity"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="is_anomaly" name="is_anomaly"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="date_key" name="date_key"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Properties>
{&quot;portType&quot;:&quot;*&quot;,&quot;type&quot;:{&quot;name&quot;:&quot;viaops.anomaly.Raw_Anomaly&quot;,&quot;kind&quot;:&quot;caseclass&quot;}}
</Properties>
                  </Model>
                </Node>
                <Node height="75" width="130" y="28" x="340" label="Save data" type="StreamTarget" uuid="245c1c9f-22ad-43be-8576-b667ce2549b3" index="1002_2">
                  <Source dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="f7cc2fc6-1004-4a0e-825f-0cabd9b874f7" name="Out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm_name" name="algorithm_name"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_median" name="baseline_median"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev" name="baseline_stdev"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad" name="baseline_mad"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_avg" name="baseline_avg"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="baseline_stats" name="baseline_stats"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="score_method" name="score_method"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="zscore" name="zscore"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mzscore" name="mzscore"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="cscore" name="cscore"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="deviation" name="deviation"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_score" name="upper_score"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_score" name="lower_score"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_threshold" name="lower_threshold"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_threshold" name="upper_threshold"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="conf_id" name="conf_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="trigger" name="trigger"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="new_metric" name="new_metric"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="severity" name="severity"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="is_anomaly" name="is_anomaly"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="date_key" name="date_key"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="out">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="algorithm_name" name="algorithm_name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_median" name="baseline_median"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev" name="baseline_stdev"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad" name="baseline_mad"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_avg" name="baseline_avg"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="baseline_stats" name="baseline_stats"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="zscore" name="zscore"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mzscore" name="mzscore"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="cscore" name="cscore"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="deviation" name="deviation"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_score" name="upper_score"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_score" name="lower_score"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_threshold" name="lower_threshold"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_threshold" name="upper_threshold"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="conf_id" name="conf_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="trigger" name="trigger"/>
                    <Field isOptional="true" isArray="false" clazz="" type="boolean" label="new_metric" name="new_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="severity" name="severity"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="is_anomaly" name="is_anomaly"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="date_key" name="date_key"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model dataVolume="" dataSpeed="" partitionNum="${output_partition_number}" overwrite="false" timeColumn="" partitionIndex="39" partitionColumn="date_key" partitionSize="" partitionType="eventField" tableName="${anomaly_table_name}" type="hiveTable">
                    <__binding__><![CDATA[{"overwrite":""}]]></__binding__>
                  </Model>
                </Node>
                <Node height="40" width="70" y="48" x="580" label="Out" type="outPort" uuid="de1d3bad-a3c2-43c7-8a58-07af0a87b206" index="1002_3">
                  <Source dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="245c1c9f-22ad-43be-8576-b667ce2549b3" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm_name" name="algorithm_name"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_median" name="baseline_median"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev" name="baseline_stdev"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad" name="baseline_mad"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_avg" name="baseline_avg"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="baseline_stats" name="baseline_stats"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="score_method" name="score_method"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="zscore" name="zscore"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mzscore" name="mzscore"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="cscore" name="cscore"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="deviation" name="deviation"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_score" name="upper_score"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_score" name="lower_score"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_threshold" name="lower_threshold"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_threshold" name="upper_threshold"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="conf_id" name="conf_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="trigger" name="trigger"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="new_metric" name="new_metric"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="severity" name="severity"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="is_anomaly" name="is_anomaly"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="date_key" name="date_key"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                    </DataSource>
                  </Source>
                  <Model>
                    <Properties>
{}
</Properties>
                  </Model>
                </Node>
                <Link tgtPort="in:0" tgtId="245c1c9f-22ad-43be-8576-b667ce2549b3" srcPort="out:0" srcId="f7cc2fc6-1004-4a0e-825f-0cabd9b874f7"/>
                <Link tgtPort="in:0" tgtId="de1d3bad-a3c2-43c7-8a58-07af0a87b206" srcPort="out:0" srcId="245c1c9f-22ad-43be-8576-b667ce2549b3"/>
                <Codes/>
                <Libraries/>
                <Resources/>
                <Properties>[{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;anomaly_table_name&quot;,&quot;label&quot;:&quot;Anomaly Table Name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;itops_metric_anomaly&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;output_partition_number&quot;,&quot;label&quot;:&quot;Output Partition Number&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;1&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false}]</Properties>
              </Flow>
            </__subflow__>
          </Model>
        </Node>
        <Node height="89" width="95" y="40" x="36" label="timeseries" type="StreamSource" uuid="bfa5a694-bb0b-4843-8980-f81a653fe7af" index="1003">
          <Output dataType="String" outputType="DStream" uid="0" name="Out1">
            <Field isOptional="false" isArray="false" type="string" label="data" name="data"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Model dataVolume="" dataSpeed="" isSkipFirstLine="false" isOutputFileName="false" speficiedStartPosition="false" maxFileSize="104857600" maxFileSizeUnit="mb" maxFileSizeInUnit="100" initialOffset="latest" include="true" nameFilter="" url="${m_source}" type="textFileStream">
            <Sample><![CDATA[{"aggr_start_tm":1573373100,"aggr_end_tm":1573373100,"app":"HelloWorld","ts_key":"HelloWorld","ts_value":"HelloWorld","system_tm":1573373100,"process_type":"HelloWorld","aggr_type":"HelloWorld","source_fmt":"HelloWorld","source_tz":"HelloWorld","date_key":1573373100,"metric_name":"HelloWorld","metric_value":123.1,"metric_uom":"HelloWorld","env":"HelloWorld","mac_addr":"HelloWorld","status":"HelloWorld","host":"HelloWorld","cmts":"HelloWorld","prov_speed":"HelloWorld","ip_addr":"HelloWorld","node":"HelloWorld"}
{"aggr_start_tm":1573373100,"aggr_end_tm":1573373100,"app":"HelloWorld","ts_key":"HelloWorld","ts_value":"HelloWorld","system_tm":1573373100,"process_type":"HelloWorld","aggr_type":"HelloWorld","source_fmt":"HelloWorld","source_tz":"HelloWorld","date_key":1573373100,"metric_name":"HelloWorld","metric_value":123.1,"metric_uom":"HelloWorld","env":"HelloWorld","mac_addr":"HelloWorld","status":"HelloWorld","host":"HelloWorld","cmts":"HelloWorld","prov_speed":"HelloWorld","ip_addr":"HelloWorld","node":"HelloWorld"}
{"aggr_start_tm":1573373100,"aggr_end_tm":1573373100,"app":"HelloWorld","ts_key":"HelloWorld","ts_value":"HelloWorld","system_tm":1573373100,"process_type":"HelloWorld","aggr_type":"HelloWorld","source_fmt":"HelloWorld","source_tz":"HelloWorld","date_key":1573373100,"metric_name":"HelloWorld","metric_value":123.1,"metric_uom":"HelloWorld","env":"HelloWorld","mac_addr":"HelloWorld","status":"HelloWorld","host":"HelloWorld","cmts":"HelloWorld","prov_speed":"HelloWorld","ip_addr":"HelloWorld","node":"HelloWorld"}]]></Sample>
          </Model>
        </Node>
        <Node height="115" width="130" y="40" x="820" label="Step 1" type="Router" uuid="727dd54e-99ce-4e82-89d2-51646aa97d55" index="1004">
          <Source dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="source">
            <DataSource nodeId="32acad17-e402-4692-8352-9c8b956bf1c4" name="aggregate" id="undefined" category="#OUTPUT">
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="window_size" name="window_size"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="window_step" name="window_step"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="start_tm" name="start_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="end_tm" name="end_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="metric_id" name="metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dow" name="dow"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="algorithm" name="algorithm"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="seasonality" name="seasonality"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="aggr_metric" name="aggr_metric"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="last_interval_metric" name="last_interval_metric"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="generated_tm" name="generated_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="base_metric_id" name="base_metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dim_keys" name="dim_keys"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dim_values" name="dim_values"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="model_metric_id" name="model_metric_id"/>
            </DataSource>
          </Source>
          <Output dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="baseline">
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
            <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Output dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="1" name="threshold">
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
            <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Output dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="3" name="ignored">
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
            <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Model>
            <Properties>
{&quot;sleExpressions&quot;:[{&quot;_id&quot;:&quot;c4cbdee7-5f9c-4b76-8ace-ddd357f8a964&quot;,&quot;sle&quot;:&quot;&quot;,&quot;port&quot;:&quot;&quot;,&quot;label&quot;:&quot;baseline&quot;,&quot;sleExpression&quot;:{&quot;text&quot;:&quot;algorithm=\&quot;baseline\&quot;&quot;,&quot;type&quot;:&quot;boolean&quot;,&quot;option&quot;:false}},{&quot;_id&quot;:&quot;1a8d40b0-eecb-4072-8170-896ac7b15cd0&quot;,&quot;sleExpression&quot;:{&quot;text&quot;:&quot;algorithm=\&quot;threshold\&quot;&quot;,&quot;type&quot;:&quot;boolean&quot;,&quot;option&quot;:false},&quot;label&quot;:&quot;threshold&quot;},{&quot;_id&quot;:&quot;7ca53fa8-8cd2-44ed-86fb-968d494d7ce6&quot;,&quot;sleExpression&quot;:{&quot;text&quot;:&quot;algorithm=\&quot;ignored\&quot;&quot;,&quot;type&quot;:&quot;boolean&quot;,&quot;option&quot;:false},&quot;label&quot;:&quot;ignored&quot;}]}
</Properties>
          </Model>
        </Node>
        <Node height="75" width="130" y="213" x="1513" label="Dropped Aggr" type="StreamTarget" uuid="381f3a4e-83a8-4774-8e14-b92b69275f89" index="1005">
          <Source dataType="class:AddUTCdate_key_Class" outputType="DStream" uid="0" name="source">
            <DataSource nodeId="26f11f6b-4a61-456c-8744-d0d7c23b671e" name="out" id="undefined" category="#OUTPUT">
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="reason" name="reason"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="date_key" name="date_key"/>
            </DataSource>
          </Source>
          <Output dataType="class:AddUTCdate_key_Class" outputType="DStream" uid="0" name="out">
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
            <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="reason" name="reason"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="integer" label="date_key" name="date_key"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Model dataVolume="" dataSpeed="" partitionNum="1" overwrite="false" timeColumn="" partitionIndex="16" partitionColumn="date_key" partitionSize="" partitionType="eventField" tableName="${dropped_aggr_metrics}" type="hiveTable"/>
        </Node>
        <Node height="95" width="160" y="40" x="588" label="Anomaly Aggregate Metrics" type="subflow" uuid="32acad17-e402-4692-8352-9c8b956bf1c4" index="1006">
          <Source dataType="class:EnrichedTimeSeries" outputType="DStream" uid="0" name="Timeseries">
            <DataSource nodeId="1b1ed3f5-5cf6-4b83-88d4-461edc9f9b91" name="EnrichedOut" id="undefined" category="#OUTPUT">
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="model_metric_id" name="model_metric_id"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="base_metric_id" name="base_metric_id"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_keys" name="dim_keys"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_values" name="dim_values"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="aggr_func" name="aggr_func"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="source_group" name="source_group"/>
            </DataSource>
          </Source>
          <Output dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="Aggregate">
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
            <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Output dataType="class:EnrichedTimeSeries" outputType="DStream" uid="1" name="Dropped">
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="model_metric_id" name="model_metric_id"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_keys" name="dim_keys"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_values" name="dim_values"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="aggr_func" name="aggr_func"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="source_group" name="source_group"/>
          </Output>
          <Model>
            <Properties>{&quot;subFlow&quot;:&quot;remote:///viaops.anomaly/Anomaly Aggregate Metrics&quot;,&quot;adm_name&quot;:&quot;${adm_name_m}&quot;,&quot;conf_poll_rate&quot;:&quot;${pull_r}&quot;,&quot;hbDelay&quot;:&quot;0&quot;,&quot;hbInterval&quot;:&quot;0&quot;,&quot;outOfOrderDelay&quot;:&quot;0&quot;,&quot;storage_rep_level&quot;:&quot;1&quot;,&quot;dataSource&quot;:{&quot;dataSource&quot;:&quot;/vitria/m3o/datasource/DefaultDomain/charter_ref_db&quot;,&quot;driverType&quot;:&quot;com.mysql.jdbc.Driver&quot;},&quot;aggregateStartDate&quot;:&quot; ${s_date}&quot;,&quot;aggregateEndDate&quot;:&quot; &quot;}</Properties>
            <__subflow__>
              <Flow showFooter="true" name="Anomaly Aggregate Metrics" referenceURI="remote:///viaops.anomaly/Anomaly Aggregate Metrics" acceptedSourceTypes="DStream" revision="4826" isNested="true" uuid="Anomaly Aggregate Metrics" index="1006">
                <Node height="40" width="91.5451431274414" y="33" x="1000" label="Aggregate" type="outPort" uuid="84ddc096-9043-4a6d-8e74-2756245826cf" index="1006_1">
                  <Source dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="ae3d4bd1-3ebe-4fd1-81e7-40deb8daac50" name="Out1" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                    </DataSource>
                  </Source>
                  <Output referenceType="viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="out">
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Properties>
{&quot;type&quot;:{&quot;name&quot;:&quot;viaops.anomaly.Aggr_Metrics&quot;,&quot;kind&quot;:&quot;caseclass&quot;}}
</Properties>
                  </Model>
                </Node>
                <Node height="40" width="81.14583587646484" y="132" x="789" label="Dropped" type="outPort" uuid="6201de9b-13c0-4d52-872a-22551d588ad3" index="1006_2">
                  <Source dataType="class:EnrichedTimeSeries" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="c867666f-0325-4a09-8549-bf8776ebfa2b" name="dropped" id="undefined" category="#OUTPUT">
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="aggr_func" name="aggr_func"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="source_group" name="source_group"/>
                    </DataSource>
                  </Source>
                  <Output outputType="DStream" uid="0" name="out">
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Properties>
{&quot;type&quot;:{&quot;name&quot;:&quot;&quot;,&quot;kind&quot;:&quot;caseclass&quot;}}
</Properties>
                  </Model>
                </Node>
                <Node height="40" width="94.70486450195312" y="40" x="140" label="Timeseries" type="inPort" uuid="69693eca-06a6-4d91-855b-3af685bc5cb0" index="1006_3">
                  <Output dataType="class:EnrichedTimeSeries" outputType="DStream" uid="0" name="Out">
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_values" name="dim_values"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="aggr_func" name="aggr_func"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="source_group" name="source_group"/>
                  </Output>
                  <Model>
                    <Properties>
{&quot;portType&quot;:&quot;*&quot;,&quot;type&quot;:{&quot;name&quot;:&quot;&quot;,&quot;kind&quot;:&quot;caseclass&quot;}}
</Properties>
                  </Model>
                </Node>
                <Node height="135" width="130" y="106" x="326" label="Algorithm" type="Window" uuid="818ea7a0-131e-4c51-8304-503b387c43c4" index="1006_4">
                  <Source dataType="class:AnomalyAlgorithm" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="65c92fac-0f75-4e89-8f56-fe578f8b4e85" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="ignore_anomaly" name="ignore_anomaly"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:AnomalyAlgorithm" outputType="DStream" uid="0" name="All">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="ignore_anomaly" name="ignore_anomaly"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:AnomalyAlgorithm" outputType="DStream" uid="1" name="Changes">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="ignore_anomaly" name="ignore_anomaly"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:AnomalyAlgorithm" outputType="DStream" uid="2" name="Expired">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="ignore_anomaly" name="ignore_anomaly"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:AnomalyAlgorithm" outputType="DStream" uid="3" name="Deleted">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="ignore_anomaly" name="ignore_anomaly"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model restoreState="false" checkpointInterval="/S" partition="" windowPolicy="attribute">
                    <Time mode="system"/>
                    <GroupKeys numPerGroup="1" policy="latest">
                      <GroupKey field="adm_name"/>
                      <GroupKey field="metric_id"/>
                    </GroupKeys>
                    <DeleteEvents sleText="!input.enabled"/>
                    <Expirations baseline="lastevent" duration="/S"/>
                  </Model>
                </Node>
                <Node height="75" width="130" y="108" x="100" label="Load Algorithm" type="JDBCStream" uuid="65c92fac-0f75-4e89-8f56-fe578f8b4e85" index="1006_5">
                  <Output dataType="class:AnomalyAlgorithm" outputType="DStream" uid="0" name="out">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="ignore_anomaly" name="ignore_anomaly"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model dataSource="/vitria/m3o/datasource/DefaultDomain/charter_ref_db" dataVolume="" dataSpeed="" isClassRef="true" caseClass="AnomalyAlgorithm" sourceType="jdbc" type="jdbcStream">
                    <__binding__><![CDATA[{"dataSource":"dataSource"}]]></__binding__>
                    <Schema>
                      <Field wrapName="mid" isOptional="false" isArray="false" clazz="" type="long" label="mid" name="mid"/>
                      <Field wrapName="adm_name" isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                      <Field wrapName="name" isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                      <Field wrapName="metric_id" isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                      <Field wrapName="algorithm" isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                      <Field wrapName="fill_policy" isOptional="false" isArray="false" clazz="" type="integer" label="fill_policy" name="fill_policy"/>
                      <Field wrapName="seasonality" isOptional="false" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                      <Field wrapName="ignore_baseline" isOptional="true" isArray="false" clazz="" type="boolean" label="ignore_baseline" name="ignore_baseline"/>
                      <Field wrapName="ignore_anomaly" isOptional="true" isArray="false" clazz="" type="boolean" label="ignore_anomaly" name="ignore_anomaly"/>
                      <Field wrapName="enabled" isOptional="true" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                      <Field wrapName="modified_ts" isOptional="true" isArray="false" clazz="" type="datetime" label="modified_ts" name="modified_ts"/>
                    </Schema>
                    <datasource name="/vitria/m3o/datasource/DefaultDomain/charter_ref_db"/>
                    <query>
                      <table info="{&quot;catalog&quot;:&quot;charter_ref_db&quot;,&quot;name&quot;:&quot;viaops_anomaly_algorithm&quot;,&quot;type&quot;:&quot;TABLE&quot;}" defaultSchema="charter_ref_db" schema="charter_ref_db">viaops_anomaly_algorithm</table>
                      <columns>
                        <column>adm_name</column>
                        <column>metric_id</column>
                        <column>algorithm</column>
                        <column>seasonality</column>
                        <column>ignore_anomaly</column>
                        <column>enabled</column>
                      </columns>
                      <growColumns/>
                      <filter>adm_name =&apos;${adm_name}&apos;</filter>
                      <incremental>false</incremental>
                    </query>
                    <pollRate value="NaN" every="${conf_poll_rate}/m"/>
                  </Model>
                </Node>
                <Node height="95" width="140" y="20" x="520" label="Aggregation" type="AnomalyAggregateMetrics" uuid="c867666f-0325-4a09-8549-bf8776ebfa2b" index="1006_6">
                  <Source dataType="class:EnrichedTimeSeries" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="69693eca-06a6-4d91-855b-3af685bc5cb0" name="Out" id="undefined" category="#OUTPUT">
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="aggr_func" name="aggr_func"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="source_group" name="source_group"/>
                    </DataSource>
                  </Source>
                  <Source dataType="class:AnomalyAlgorithm" outputType="DStream" uid="1" name="source2">
                    <DataSource nodeId="818ea7a0-131e-4c51-8304-503b387c43c4" name="All" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="ignore_anomaly" name="ignore_anomaly"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="aggregate">
                    <Field isOptional="false" isArray="false" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" type="string" label="model_metric_id" name="model_metric_id"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:EnrichedTimeSeries" outputType="DStream" uid="1" name="dropped">
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_values" name="dim_values"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="aggr_func" name="aggr_func"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="source_group" name="source_group"/>
                  </Output>
                  <Model>
                    <Properties>
{&quot;hbDelay&quot;:&quot;0&quot;,&quot;hbInterval&quot;:&quot;0&quot;,&quot;outOfOrderDelay&quot;:&quot;0&quot;,&quot;storage_rep_level&quot;:&quot;1&quot;,&quot;adm_name&quot;:&quot;${adm_name_m}&quot;,&quot;windowType&quot;:&quot;global&quot;}
</Properties>
                    <__binding__><![CDATA[{"hbDelay":"hbDelay","hbInterval":"hbInterval","outOfOrderDelay":"outOfOrderDelay","storage_rep_level":"storage_rep_level","adm_name":"adm_name","windowType":""}]]></__binding__>
                  </Model>
                </Node>
                <Node height="75" width="130" y="14" x="787" label="Filter" type="Adhoc" uuid="ae3d4bd1-3ebe-4fd1-81e7-40deb8daac50" index="1006_7">
                  <Source dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="c867666f-0325-4a09-8549-bf8776ebfa2b" name="aggregate" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                    </DataSource>
                  </Source>
                  <Output referenceType="viaops.anomaly.Aggr_Metrics" dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="Out1">
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Script><![CDATA[
val gconf = com.vitria.viaops.ad.SolGlobalConf.getGlobalConf("${adm_name}", "${dataSource}", vtContext)
val startDate = "${aggregateStartDate}".trim
val toDate = "${aggregateEndDate}".trim
val retval = if("".equals(startDate) && "".equals(toDate)){
  source1
}else{
def getTSM( v:String ):Long={
 if (v.indexOf("-") < 0) v.toLong else gconf.dateToSeconds(v)
}
if("".equals(startDate)){
   val toDateInSeconds= getTSM(toDate)
   source1.vtFilter(item => { item.start_tm < toDateInSeconds })
} else if("".equals(toDate)){
    val beginDateInSeconds = getTSM(startDate)
    source1.vtFilter(item => {item.start_tm >= beginDateInSeconds})
} else{
    val beginDateInSeconds= getTSM(startDate)
    val toDateInSeconds   = getTSM(toDate)
    source1.vtFilter(item => { item.start_tm >= beginDateInSeconds && item.start_tm < toDateInSeconds })
}
}              ]]></Script>
                  </Model>
                </Node>
                <Link tgtPort="din:0" tgtId="ae3d4bd1-3ebe-4fd1-81e7-40deb8daac50" srcPort="dout:0" srcId="c867666f-0325-4a09-8549-bf8776ebfa2b"/>
                <Link tgtPort="in:0" tgtId="6201de9b-13c0-4d52-872a-22551d588ad3" srcPort="dout:1" srcId="c867666f-0325-4a09-8549-bf8776ebfa2b"/>
                <Link tgtPort="in:0" tgtId="818ea7a0-131e-4c51-8304-503b387c43c4" srcPort="out:0" srcId="65c92fac-0f75-4e89-8f56-fe578f8b4e85"/>
                <Link tgtPort="in:0" tgtId="c867666f-0325-4a09-8549-bf8776ebfa2b" srcPort="out:0" srcId="69693eca-06a6-4d91-855b-3af685bc5cb0"/>
                <Link tgtPort="in:1" tgtId="c867666f-0325-4a09-8549-bf8776ebfa2b" srcPort="dout:0" srcId="818ea7a0-131e-4c51-8304-503b387c43c4"/>
                <Link tgtPort="in:0" tgtId="84ddc096-9043-4a6d-8e74-2756245826cf" srcPort="dout:0" srcId="ae3d4bd1-3ebe-4fd1-81e7-40deb8daac50"/>
                <Codes/>
                <Libraries>
                  <Lib systemPath="${VTBA_HOME}/VIAOps/libs/AnomalyDetection-1.0.jar" scope="system"/>
                </Libraries>
                <Resources/>
                <Properties>[{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;adm_name&quot;,&quot;label&quot;:&quot;Anomaly Detection Method Name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;impactSchema&quot;:&quot;false&quot;,&quot;escapeValue&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;Video&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;conf_poll_rate&quot;,&quot;label&quot;:&quot;Anomaly Configuration Poll Rate in Minutes&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;5&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;hbDelay&quot;,&quot;label&quot;:&quot;Heartbeat Delay in Minutes&quot;,&quot;type&quot;:&quot;long&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:0,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;hbInterval&quot;,&quot;label&quot;:&quot;Heartbeat Interval in Minutes&quot;,&quot;type&quot;:&quot;long&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;0&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;outOfOrderDelay&quot;,&quot;label&quot;:&quot;Out of Order Delay in Minutes&quot;,&quot;type&quot;:&quot;long&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:0,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;storage_rep_level&quot;,&quot;label&quot;:&quot;Storage Level Replication&quot;,&quot;type&quot;:&quot;long&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:1,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;_dataSourceSelector&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;name&quot;:&quot;dataSource&quot;,&quot;label&quot;:&quot;Anomaly Configuration Datasource&quot;,&quot;type&quot;:&quot;object&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:{&quot;dataSource&quot;:&quot;/vitria/m3o/datasource/DefaultDomain/charter_ref_db&quot;},&quot;constraints&quot;:{&quot;type&quot;:&quot;dataSource&quot;,&quot;args&quot;:{}},&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;aggregateStartDate&quot;,&quot;label&quot;:&quot;Aggregation Start Date&quot;,&quot;type&quot;:&quot;string&quot;,&quot;optional&quot;:true,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot; &quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;aggregateEndDate&quot;,&quot;label&quot;:&quot;Aggregation End Date&quot;,&quot;type&quot;:&quot;string&quot;,&quot;optional&quot;:true,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot; &quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false}]</Properties>
                <Types>[{&quot;name&quot;:&quot;AggrFlattenKey&quot;,&quot;namespace&quot;:&quot;&quot;,&quot;schema&quot;:[{&quot;name&quot;:&quot;end_tm&quot;,&quot;type&quot;:&quot;long&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;metric_id&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;agg_func&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false}]},{&quot;name&quot;:&quot;AggrMeasure&quot;,&quot;namespace&quot;:&quot;&quot;,&quot;schema&quot;:[{&quot;name&quot;:&quot;cnt&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;sum&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;min&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;max&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;lastCnt&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;lastSum&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;lastMin&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:true,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;lastMax&quot;,&quot;type&quot;:&quot;double&quot;,&quot;_isOptional&quot;:true,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;base_metric_id&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;dim_keys&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;dim_values&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;model_metric_id&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;tm&quot;,&quot;type&quot;:&quot;long&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false}]},{&quot;name&quot;:&quot;AnomalyAlgorithm&quot;,&quot;namespace&quot;:&quot;&quot;,&quot;schema&quot;:[{&quot;name&quot;:&quot;adm_name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;metric_id&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;algorithm&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;seasonality&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:true,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;ignore_anomaly&quot;,&quot;type&quot;:&quot;boolean&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;enabled&quot;,&quot;type&quot;:&quot;boolean&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false}]}]</Types>
              </Flow>
            </__subflow__>
            <__binding__><![CDATA[{"dataSource":"dataSource"}]]></__binding__>
          </Model>
        </Node>
        <Node height="86" width="124" y="191" x="820" label="Dropped Metric" type="StreamTarget" uuid="54a00937-cda3-4fcb-816f-99f01118897b" index="1007">
          <Source dataType="class:EnrichedTimeSeries" outputType="DStream" uid="0" name="source">
            <DataSource nodeId="32acad17-e402-4692-8352-9c8b956bf1c4" name="dropped" id="undefined" category="#OUTPUT">
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="model_metric_id" name="model_metric_id"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="base_metric_id" name="base_metric_id"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_keys" name="dim_keys"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_values" name="dim_values"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="aggr_func" name="aggr_func"/>
              <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="source_group" name="source_group"/>
            </DataSource>
          </Source>
          <Output dataType="class:EnrichedTimeSeries" outputType="DStream" uid="0" name="out">
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="model_metric_id" name="model_metric_id"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_keys" name="dim_keys"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_values" name="dim_values"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="aggr_func" name="aggr_func"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="source_group" name="source_group"/>
          </Output>
          <Model partitionIndex="10" dataVolume="" dataSpeed="" partitionNum="1" overwrite="false" timeColumn="" partitionColumn="date_key" partitionSize="" partitionType="eventField" tableName="${dropped_metric}" type="hiveTable"/>
        </Node>
        <Node height="95" width="180" y="193" x="1040" label="Threshold Anomaly Detection" type="subflow" uuid="9d55632e-3d68-4d3d-80fb-3ec12f8041a4" index="1008">
          <Source dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="AggrMetrics">
            <DataSource nodeId="727dd54e-99ce-4e82-89d2-51646aa97d55" name="threshold" id="undefined" category="#OUTPUT">
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="window_size" name="window_size"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="window_step" name="window_step"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="start_tm" name="start_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="end_tm" name="end_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="metric_id" name="metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dow" name="dow"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="algorithm" name="algorithm"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="seasonality" name="seasonality"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="aggr_metric" name="aggr_metric"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="last_interval_metric" name="last_interval_metric"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="generated_tm" name="generated_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="base_metric_id" name="base_metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dim_keys" name="dim_keys"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dim_values" name="dim_values"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="model_metric_id" name="model_metric_id"/>
            </DataSource>
          </Source>
          <Output dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="RawAnomaly">
            <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="algorithm_name" name="algorithm_name"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
            <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_median" name="baseline_median"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev" name="baseline_stdev"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad" name="baseline_mad"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_avg" name="baseline_avg"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="baseline_stats" name="baseline_stats"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="zscore" name="zscore"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="mzscore" name="mzscore"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="cscore" name="cscore"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="deviation" name="deviation"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_score" name="upper_score"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_score" name="lower_score"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_threshold" name="lower_threshold"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_threshold" name="upper_threshold"/>
            <Field isOptional="true" isArray="false" clazz="" type="integer" label="conf_id" name="conf_id"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="trigger" name="trigger"/>
            <Field isOptional="true" isArray="false" clazz="" type="boolean" label="new_metric" name="new_metric"/>
            <Field isOptional="false" isArray="false" clazz="" type="integer" label="severity" name="severity"/>
            <Field isOptional="false" isArray="false" clazz="" type="boolean" label="is_anomaly" name="is_anomaly"/>
            <Field isOptional="false" isArray="false" clazz="" type="integer" label="date_key" name="date_key"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Output dataType="class:viaops.anomaly.Dropped_Metrics" outputType="DStream" uid="1" name="DroppedMetrics">
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
            <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="reason" name="reason"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Model>
            <Properties>{&quot;subFlow&quot;:&quot;remote:///viaops.anomaly/Threshold Anomaly Detection&quot;,&quot;name&quot;:&quot;${adm_name_m}&quot;,&quot;dataSource&quot;:{&quot;dataSource&quot;:&quot;/vitria/m3o/datasource/DefaultDomain/charter_ref_db&quot;,&quot;driverType&quot;:&quot;com.mysql.jdbc.Driver&quot;},&quot;pull_rate&quot;:&quot;${pull_r}&quot;}</Properties>
            <__subflow__>
              <Flow showFooter="true" name="Threshold Anomaly Detection" referenceURI="remote:///viaops.anomaly/Threshold Anomaly Detection" acceptedSourceTypes="RDD,DStream,DataFrame" revision="1738" isNested="true" uuid="Threshold Anomaly Detection" index="1008">
                <Node height="40" width="94.015625" y="60" x="71" label="AggrMetrics" type="inPort" uuid="68048ad8-3a52-4bd1-8e83-ed390aa609fc" index="1008_1">
                  <Output referenceType="viaops.anomaly.Aggr_Metrics" dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="Out">
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Properties>
{&quot;portType&quot;:&quot;DStream&quot;,&quot;type&quot;:{&quot;name&quot;:&quot;viaops.anomaly.Aggr_Metrics&quot;,&quot;kind&quot;:&quot;caseclass&quot;}}
</Properties>
                  </Model>
                </Node>
                <Node height="75" width="130" y="134" x="50" label="Poll threshold conf" type="JDBCStream" uuid="758b5411-0cfc-4a4a-83b0-4075cc9f4d07" index="1008_2">
                  <Output dataType="class:Anomaly_Threshold_Conf_CaseClass" outputType="DStream" uid="0" name="out">
                    <Field wrapName="tid" column="tid" isOptional="false" isArray="false" type="long" label="tid" name="tid"/>
                    <Field wrapName="adm_name" column="adm_name" isOptional="false" isArray="false" type="string" label="adm_name" name="adm_name"/>
                    <Field wrapName="name" column="name" isOptional="true" isArray="false" type="string" label="name" name="name"/>
                    <Field wrapName="metric_id" column="metric_id" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
                    <Field wrapName="lower_threshold" column="lower_threshold" isOptional="true" isArray="false" type="double" label="lower_threshold" name="lower_threshold"/>
                    <Field wrapName="upper_threshold" column="upper_threshold" isOptional="true" isArray="false" type="double" label="upper_threshold" name="upper_threshold"/>
                    <Field wrapName="anomaly_trigger" column="anomaly_trigger" isOptional="true" isArray="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field wrapName="enabled" column="enabled" isOptional="true" isArray="false" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model dataSource="/vitria/m3o/datasource/DefaultDomain/charter_ref_db" dataVolume="" dataSpeed="" isClassRef="false" caseClass="Anomaly_Threshold_Conf_CaseClass" sourceType="jdbc" type="jdbcStream">
                    <__binding__><![CDATA[{"dataSource":"dataSource"}]]></__binding__>
                    <Schema>
                      <Field wrapName="tid" isOptional="false" isArray="false" clazz="" type="long" label="tid" name="tid"/>
                      <Field wrapName="adm_name" isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                      <Field wrapName="name" isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                      <Field wrapName="metric_id" isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                      <Field wrapName="lower_threshold" isOptional="true" isArray="false" clazz="" type="double" label="lower_threshold" name="lower_threshold"/>
                      <Field wrapName="upper_threshold" isOptional="true" isArray="false" clazz="" type="double" label="upper_threshold" name="upper_threshold"/>
                      <Field wrapName="anomaly_trigger" isOptional="true" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field wrapName="enabled" isOptional="true" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                      <Field wrapName="modified_ts" isOptional="true" isArray="false" clazz="" type="datetime" label="modified_ts" name="modified_ts"/>
                    </Schema>
                    <datasource name="/vitria/m3o/datasource/DefaultDomain/charter_ref_db"/>
                    <query>
                      <table info="{&quot;catalog&quot;:&quot;charter_ref_db&quot;,&quot;name&quot;:&quot;viaops_anomaly_simple_threshold&quot;,&quot;type&quot;:&quot;TABLE&quot;}" defaultSchema="charter_ref_db" schema="charter_ref_db">viaops_anomaly_simple_threshold</table>
                      <columns>
                        <column>tid</column>
                        <column>adm_name</column>
                        <column>name</column>
                        <column>metric_id</column>
                        <column>lower_threshold</column>
                        <column>upper_threshold</column>
                        <column>anomaly_trigger</column>
                        <column>enabled</column>
                      </columns>
                      <growColumns/>
                      <filter/>
                      <incremental>false</incremental>
                    </query>
                    <pollRate value="NaN" every="${pull_rate}/m"/>
                  </Model>
                </Node>
                <Node height="135" width="130" y="140" x="340" label="Conf Window" type="Window" uuid="9babeaf0-9d34-451c-82f8-fa4845e455f4" index="1008_3">
                  <Source dataType="class:Anomaly_Threshold_Conf_CaseClass" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="758b5411-0cfc-4a4a-83b0-4075cc9f4d07" name="out" id="undefined" category="#OUTPUT">
                      <Field column="tid" wrapName="tid" isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="long" label="tid" name="tid"/>
                      <Field column="adm_name" wrapName="adm_name" isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field column="name" wrapName="name" isOptional="true" isArray="false" isMeasure="false" isDimension="false" type="string" label="name" name="name"/>
                      <Field column="metric_id" wrapName="metric_id" isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field column="lower_threshold" wrapName="lower_threshold" isOptional="true" isArray="false" isMeasure="false" isDimension="false" type="double" label="lower_threshold" name="lower_threshold"/>
                      <Field column="upper_threshold" wrapName="upper_threshold" isOptional="true" isArray="false" isMeasure="false" isDimension="false" type="double" label="upper_threshold" name="upper_threshold"/>
                      <Field column="anomaly_trigger" wrapName="anomaly_trigger" isOptional="true" isArray="false" isMeasure="false" isDimension="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field column="enabled" wrapName="enabled" isOptional="true" isArray="false" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:Anomaly_Threshold_Conf_CaseClass" outputType="DStream" uid="0" name="All">
                    <Field wrapName="tid" column="tid" isOptional="false" isArray="false" type="long" label="tid" name="tid"/>
                    <Field wrapName="adm_name" column="adm_name" isOptional="false" isArray="false" type="string" label="adm_name" name="adm_name"/>
                    <Field wrapName="name" column="name" isOptional="true" isArray="false" type="string" label="name" name="name"/>
                    <Field wrapName="metric_id" column="metric_id" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
                    <Field wrapName="lower_threshold" column="lower_threshold" isOptional="true" isArray="false" type="double" label="lower_threshold" name="lower_threshold"/>
                    <Field wrapName="upper_threshold" column="upper_threshold" isOptional="true" isArray="false" type="double" label="upper_threshold" name="upper_threshold"/>
                    <Field wrapName="anomaly_trigger" column="anomaly_trigger" isOptional="true" isArray="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field wrapName="enabled" column="enabled" isOptional="true" isArray="false" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:Anomaly_Threshold_Conf_CaseClass" outputType="DStream" uid="1" name="Changes">
                    <Field wrapName="tid" column="tid" isOptional="false" isArray="false" type="long" label="tid" name="tid"/>
                    <Field wrapName="adm_name" column="adm_name" isOptional="false" isArray="false" type="string" label="adm_name" name="adm_name"/>
                    <Field wrapName="name" column="name" isOptional="true" isArray="false" type="string" label="name" name="name"/>
                    <Field wrapName="metric_id" column="metric_id" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
                    <Field wrapName="lower_threshold" column="lower_threshold" isOptional="true" isArray="false" type="double" label="lower_threshold" name="lower_threshold"/>
                    <Field wrapName="upper_threshold" column="upper_threshold" isOptional="true" isArray="false" type="double" label="upper_threshold" name="upper_threshold"/>
                    <Field wrapName="anomaly_trigger" column="anomaly_trigger" isOptional="true" isArray="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field wrapName="enabled" column="enabled" isOptional="true" isArray="false" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:Anomaly_Threshold_Conf_CaseClass" outputType="DStream" uid="2" name="Expired">
                    <Field wrapName="tid" column="tid" isOptional="false" isArray="false" type="long" label="tid" name="tid"/>
                    <Field wrapName="adm_name" column="adm_name" isOptional="false" isArray="false" type="string" label="adm_name" name="adm_name"/>
                    <Field wrapName="name" column="name" isOptional="true" isArray="false" type="string" label="name" name="name"/>
                    <Field wrapName="metric_id" column="metric_id" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
                    <Field wrapName="lower_threshold" column="lower_threshold" isOptional="true" isArray="false" type="double" label="lower_threshold" name="lower_threshold"/>
                    <Field wrapName="upper_threshold" column="upper_threshold" isOptional="true" isArray="false" type="double" label="upper_threshold" name="upper_threshold"/>
                    <Field wrapName="anomaly_trigger" column="anomaly_trigger" isOptional="true" isArray="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field wrapName="enabled" column="enabled" isOptional="true" isArray="false" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:Anomaly_Threshold_Conf_CaseClass" outputType="DStream" uid="3" name="Deleted">
                    <Field wrapName="tid" column="tid" isOptional="false" isArray="false" type="long" label="tid" name="tid"/>
                    <Field wrapName="adm_name" column="adm_name" isOptional="false" isArray="false" type="string" label="adm_name" name="adm_name"/>
                    <Field wrapName="name" column="name" isOptional="true" isArray="false" type="string" label="name" name="name"/>
                    <Field wrapName="metric_id" column="metric_id" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
                    <Field wrapName="lower_threshold" column="lower_threshold" isOptional="true" isArray="false" type="double" label="lower_threshold" name="lower_threshold"/>
                    <Field wrapName="upper_threshold" column="upper_threshold" isOptional="true" isArray="false" type="double" label="upper_threshold" name="upper_threshold"/>
                    <Field wrapName="anomaly_trigger" column="anomaly_trigger" isOptional="true" isArray="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field wrapName="enabled" column="enabled" isOptional="true" isArray="false" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model restoreState="false" checkpointInterval="/S" partition="" windowPolicy="attribute">
                    <Time mode="system"/>
                    <GroupKeys numPerGroup="1" policy="latest">
                      <GroupKey field="metric_id"/>
                    </GroupKeys>
                    <DeleteEvents sleText="input.enabled = false"/>
                    <Expirations baseline="lastevent" duration="/S"/>
                  </Model>
                </Node>
                <Node height="95" width="130" y="40" x="554" label="Join Threshold" type="Join" uuid="0d58804b-406f-4079-8b63-782cf291cbd3" index="1008_4">
                  <Source dataType="class:viaops.anomaly.Aggr_Metrics" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="68048ad8-3a52-4bd1-8e83-ed390aa609fc" name="Out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                    </DataSource>
                  </Source>
                  <Source dataType="class:Anomaly_Threshold_Conf_CaseClass" outputType="DStream" uid="1" name="source2">
                    <DataSource nodeId="9babeaf0-9d34-451c-82f8-fa4845e455f4" name="All" id="undefined" category="#OUTPUT">
                      <Field column="tid" wrapName="tid" isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="long" label="tid" name="tid"/>
                      <Field column="adm_name" wrapName="adm_name" isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field column="name" wrapName="name" isOptional="true" isArray="false" isMeasure="false" isDimension="false" type="string" label="name" name="name"/>
                      <Field column="metric_id" wrapName="metric_id" isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field column="lower_threshold" wrapName="lower_threshold" isOptional="true" isArray="false" isMeasure="false" isDimension="false" type="double" label="lower_threshold" name="lower_threshold"/>
                      <Field column="upper_threshold" wrapName="upper_threshold" isOptional="true" isArray="false" isMeasure="false" isDimension="false" type="double" label="upper_threshold" name="upper_threshold"/>
                      <Field column="anomaly_trigger" wrapName="anomaly_trigger" isOptional="true" isArray="false" isMeasure="false" isDimension="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field column="enabled" wrapName="enabled" isOptional="true" isArray="false" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:Anomaly_Simple_Threshold_Join_CaseClass" outputType="DStream" uid="0" name="out">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field wrapName="tid" column="tid" isOptional="true" isArray="false" clazz="" type="long" label="tid" name="tid"/>
                    <Field wrapName="adm_name" column="adm_name" isOptional="true" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field wrapName="name" column="name" isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field wrapName="metric_id" column="metric_id" isOptional="true" isArray="false" clazz="" type="string" label="metric_id_2" name="metric_id_2"/>
                    <Field wrapName="lower_threshold" column="lower_threshold" isOptional="true" isArray="false" clazz="" type="double" label="lower_threshold" name="lower_threshold"/>
                    <Field wrapName="upper_threshold" column="upper_threshold" isOptional="true" isArray="false" clazz="" type="double" label="upper_threshold" name="upper_threshold"/>
                    <Field wrapName="anomaly_trigger" column="anomaly_trigger" isOptional="true" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field wrapName="enabled" column="enabled" isOptional="true" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model joinAlgorithms="shuffle" isClassRef="false" _caseClass="Anomaly_Simple_Threshold_Join_CaseClass" joinType="LeftOuterJoin">
                    <Predicates sleText="source1.model_metric_id = source2.metric_id"/>
                    <ProjectionsEditor>
                      <ProjectionInfo exclude="false" level="1" name="algorithm" source="source1.algorithm"/>
                      <ProjectionInfo exclude="false" level="1" name="aggr_metric" source="source1.aggr_metric"/>
                      <ProjectionInfo exclude="false" level="1" name="last_interval_metric" source="source1.last_interval_metric"/>
                      <ProjectionInfo exclude="false" level="1" name="model_metric_id" source="source1.model_metric_id"/>
                      <ProjectionInfo exclude="false" level="1" name="window_size" source="source1.window_size"/>
                      <ProjectionInfo exclude="false" level="1" name="window_step" source="source1.window_step"/>
                      <ProjectionInfo exclude="false" level="1" name="start_tm" source="source1.start_tm"/>
                      <ProjectionInfo exclude="false" level="1" name="end_tm" source="source1.end_tm"/>
                      <ProjectionInfo exclude="false" level="1" name="metric_id" source="source1.metric_id"/>
                      <ProjectionInfo exclude="false" level="1" name="dow" source="source1.dow"/>
                      <ProjectionInfo exclude="false" level="1" name="seasonality" source="source1.seasonality"/>
                      <ProjectionInfo exclude="false" level="1" name="generated_tm" source="source1.generated_tm"/>
                      <ProjectionInfo exclude="false" level="1" name="base_metric_id" source="source1.base_metric_id"/>
                      <ProjectionInfo exclude="false" level="1" name="dim_keys" source="source1.dim_keys"/>
                      <ProjectionInfo exclude="false" level="1" name="dim_values" source="source1.dim_values"/>
                      <ProjectionInfo exclude="false" level="1" name="tid" source="source2.tid"/>
                      <ProjectionInfo exclude="false" level="1" name="adm_name" source="source2.adm_name"/>
                      <ProjectionInfo exclude="false" level="1" name="name" source="source2.name"/>
                      <ProjectionInfo exclude="false" level="1" name="metric_id_2" source="source2.metric_id"/>
                      <ProjectionInfo exclude="false" level="1" name="lower_threshold" source="source2.lower_threshold"/>
                      <ProjectionInfo exclude="false" level="1" name="upper_threshold" source="source2.upper_threshold"/>
                      <ProjectionInfo exclude="false" level="1" name="anomaly_trigger" source="source2.anomaly_trigger"/>
                      <ProjectionInfo exclude="false" level="1" name="enabled" source="source2.enabled"/>
                    </ProjectionsEditor>
                    <Projections>
                      <Projection label="algorithm" name="algorithm" source="source1.algorithm"/>
                      <Projection label="aggr_metric" name="aggr_metric" source="source1.aggr_metric"/>
                      <Projection label="last_interval_metric" name="last_interval_metric" source="source1.last_interval_metric"/>
                      <Projection label="model_metric_id" name="model_metric_id" source="source1.model_metric_id"/>
                      <Projection label="window_size" name="window_size" source="source1.window_size"/>
                      <Projection label="window_step" name="window_step" source="source1.window_step"/>
                      <Projection label="start_tm" name="start_tm" source="source1.start_tm"/>
                      <Projection label="end_tm" name="end_tm" source="source1.end_tm"/>
                      <Projection label="metric_id" name="metric_id" source="source1.metric_id"/>
                      <Projection label="dow" name="dow" source="source1.dow"/>
                      <Projection label="seasonality" name="seasonality" source="source1.seasonality"/>
                      <Projection label="generated_tm" name="generated_tm" source="source1.generated_tm"/>
                      <Projection label="base_metric_id" name="base_metric_id" source="source1.base_metric_id"/>
                      <Projection label="dim_keys" name="dim_keys" source="source1.dim_keys"/>
                      <Projection label="dim_values" name="dim_values" source="source1.dim_values"/>
                      <Projection label="tid" name="tid" source="source2.tid"/>
                      <Projection label="adm_name" name="adm_name" source="source2.adm_name"/>
                      <Projection label="name" name="name" source="source2.name"/>
                      <Projection label="metric_id_2" name="metric_id_2" source="source2.metric_id"/>
                      <Projection label="lower_threshold" name="lower_threshold" source="source2.lower_threshold"/>
                      <Projection label="upper_threshold" name="upper_threshold" source="source2.upper_threshold"/>
                      <Projection label="anomaly_trigger" name="anomaly_trigger" source="source2.anomaly_trigger"/>
                      <Projection label="enabled" name="enabled" source="source2.enabled"/>
                    </Projections>
                  </Model>
                </Node>
                <Node height="75" width="130" y="177" x="1038" label="Add dropped reason" type="Compute" uuid="9fcdff57-4b1c-4fd1-8d14-537364573e84" index="1008_5">
                  <Source dataType="class:Anomaly_Simple_Threshold_Join_CaseClass" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="e14c2183-7b49-4a8f-8013-26d4e657c2da" name="DroppedMetrics" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field column="tid" wrapName="tid" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="tid" name="tid"/>
                      <Field column="adm_name" wrapName="adm_name" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field column="name" wrapName="name" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="name" name="name"/>
                      <Field column="metric_id" wrapName="metric_id" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id_2" name="metric_id_2"/>
                      <Field column="lower_threshold" wrapName="lower_threshold" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_threshold" name="lower_threshold"/>
                      <Field column="upper_threshold" wrapName="upper_threshold" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_threshold" name="upper_threshold"/>
                      <Field column="anomaly_trigger" wrapName="anomaly_trigger" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field column="enabled" wrapName="enabled" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:viaops.anomaly.Dropped_Metrics" outputType="DStream" uid="0" name="out">
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="reason" name="reason"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model isClassRef="true" _caseClass="viaops.anomaly.Dropped_Metrics">
                    <Computes>
                      <Compute wordWarp="true" alias="window_size" outputType="long" value="window_size" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="window_step" outputType="long" value="window_step" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="start_tm" outputType="long" value="start_tm" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="end_tm" outputType="long" value="end_tm" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="generated_tm" outputType="long" value="generated_tm" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="metric_id" outputType="string" value="metric_id" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="dow" outputType="string" value="dow" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="algorithm" outputType="string" value="algorithm" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="seasonality" outputType="string" value="seasonality" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="aggr_metric" outputType="double" value="aggr_metric" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="last_interval_metric" outputType="double" value="last_interval_metric" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="reason" outputType="string" value="&quot;ThresholdConfNotFound&quot;" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="base_metric_id" outputType="string" value="base_metric_id" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="dim_keys" outputType="string" value="dim_keys" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="dim_values" outputType="string" value="dim_values" arg="" field="*" op="sleText"/>
                      <Compute wordWarp="true" alias="model_metric_id" outputType="string" value="model_metric_id" arg="" field="*" op="sleText"/>
                    </Computes>
                    <CheckboxStatus isChecked="false"/>
                  </Model>
                </Node>
                <Node height="40" width="100.703125" y="40" x="1280" label="RawAnomaly" type="outPort" uuid="51a0f0b7-b93e-48d5-8935-3ce384bdd949" index="1008_6">
                  <Source dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="3330da40-6317-4c8c-8425-9c68accf5d57" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm_name" name="algorithm_name"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_median" name="baseline_median"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev" name="baseline_stdev"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad" name="baseline_mad"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="baseline_avg" name="baseline_avg"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="median_baseline" name="median_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mean_baseline" name="mean_baseline"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="baseline_stats" name="baseline_stats"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="score_method" name="score_method"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="zscore" name="zscore"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="mzscore" name="mzscore"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="cscore" name="cscore"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="deviation" name="deviation"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_score" name="upper_score"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_score" name="lower_score"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_threshold" name="lower_threshold"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_threshold" name="upper_threshold"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="conf_id" name="conf_id"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="trigger" name="trigger"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="new_metric" name="new_metric"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="severity" name="severity"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="is_anomaly" name="is_anomaly"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="integer" label="date_key" name="date_key"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                    </DataSource>
                  </Source>
                  <Model>
                    <Properties>
{}
</Properties>
                  </Model>
                </Node>
                <Node height="95" width="140" y="40" x="753" label="Route enrich result" type="Router" uuid="e14c2183-7b49-4a8f-8013-26d4e657c2da" index="1008_7">
                  <Source dataType="class:Anomaly_Simple_Threshold_Join_CaseClass" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="0d58804b-406f-4079-8b63-782cf291cbd3" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field column="tid" wrapName="tid" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="tid" name="tid"/>
                      <Field column="adm_name" wrapName="adm_name" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field column="name" wrapName="name" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="name" name="name"/>
                      <Field column="metric_id" wrapName="metric_id" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id_2" name="metric_id_2"/>
                      <Field column="lower_threshold" wrapName="lower_threshold" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_threshold" name="lower_threshold"/>
                      <Field column="upper_threshold" wrapName="upper_threshold" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_threshold" name="upper_threshold"/>
                      <Field column="anomaly_trigger" wrapName="anomaly_trigger" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field column="enabled" wrapName="enabled" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:Anomaly_Simple_Threshold_Join_CaseClass" outputType="DStream" uid="0" name="JoinedMetrics">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field wrapName="tid" column="tid" isOptional="true" isArray="false" clazz="" type="long" label="tid" name="tid"/>
                    <Field wrapName="adm_name" column="adm_name" isOptional="true" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field wrapName="name" column="name" isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field wrapName="metric_id" column="metric_id" isOptional="true" isArray="false" clazz="" type="string" label="metric_id_2" name="metric_id_2"/>
                    <Field wrapName="lower_threshold" column="lower_threshold" isOptional="true" isArray="false" clazz="" type="double" label="lower_threshold" name="lower_threshold"/>
                    <Field wrapName="upper_threshold" column="upper_threshold" isOptional="true" isArray="false" clazz="" type="double" label="upper_threshold" name="upper_threshold"/>
                    <Field wrapName="anomaly_trigger" column="anomaly_trigger" isOptional="true" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field wrapName="enabled" column="enabled" isOptional="true" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:Anomaly_Simple_Threshold_Join_CaseClass" outputType="DStream" uid="2" name="DroppedMetrics">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field wrapName="tid" column="tid" isOptional="true" isArray="false" clazz="" type="long" label="tid" name="tid"/>
                    <Field wrapName="adm_name" column="adm_name" isOptional="true" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field wrapName="name" column="name" isOptional="true" isArray="false" clazz="" type="string" label="name" name="name"/>
                    <Field wrapName="metric_id" column="metric_id" isOptional="true" isArray="false" clazz="" type="string" label="metric_id_2" name="metric_id_2"/>
                    <Field wrapName="lower_threshold" column="lower_threshold" isOptional="true" isArray="false" clazz="" type="double" label="lower_threshold" name="lower_threshold"/>
                    <Field wrapName="upper_threshold" column="upper_threshold" isOptional="true" isArray="false" clazz="" type="double" label="upper_threshold" name="upper_threshold"/>
                    <Field wrapName="anomaly_trigger" column="anomaly_trigger" isOptional="true" isArray="false" clazz="" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                    <Field wrapName="enabled" column="enabled" isOptional="true" isArray="false" clazz="" type="boolean" label="enabled" name="enabled"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Properties>
{&quot;sleExpressions&quot;:[{&quot;_id&quot;:&quot;c4cbdee7-5f9c-4b76-8ace-ddd357f8a964&quot;,&quot;sle&quot;:&quot;&quot;,&quot;port&quot;:&quot;&quot;,&quot;sleExpression&quot;:{&quot;text&quot;:&quot;isnotnull(metric_id_2)&quot;,&quot;type&quot;:&quot;boolean&quot;,&quot;option&quot;:true},&quot;label&quot;:&quot;JoinedMetrics&quot;},{&quot;_id&quot;:&quot;f3173327-6d05-4d99-8ba2-568b879d9862&quot;,&quot;sleExpression&quot;:{&quot;text&quot;:&quot;isnull(metric_id_2)&quot;,&quot;type&quot;:&quot;boolean&quot;,&quot;option&quot;:true},&quot;label&quot;:&quot;DroppedMetrics&quot;}]}
</Properties>
                  </Model>
                </Node>
                <Node height="75" width="130" y="40" x="1040" label="Map Anomaly" type="Adhoc" uuid="3330da40-6317-4c8c-8425-9c68accf5d57" index="1008_8">
                  <Source dataType="class:Anomaly_Simple_Threshold_Join_CaseClass" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="e14c2183-7b49-4a8f-8013-26d4e657c2da" name="JoinedMetrics" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field column="tid" wrapName="tid" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="tid" name="tid"/>
                      <Field column="adm_name" wrapName="adm_name" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="adm_name" name="adm_name"/>
                      <Field column="name" wrapName="name" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="name" name="name"/>
                      <Field column="metric_id" wrapName="metric_id" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id_2" name="metric_id_2"/>
                      <Field column="lower_threshold" wrapName="lower_threshold" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="lower_threshold" name="lower_threshold"/>
                      <Field column="upper_threshold" wrapName="upper_threshold" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="upper_threshold" name="upper_threshold"/>
                      <Field column="anomaly_trigger" wrapName="anomaly_trigger" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="anomaly_trigger" name="anomaly_trigger"/>
                      <Field column="enabled" wrapName="enabled" isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="boolean" label="enabled" name="enabled"/>
                    </DataSource>
                  </Source>
                  <Output referenceType="viaops.anomaly.Raw_Anomaly" dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="out">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="algorithm_name" name="algorithm_name"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
                    <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_median" name="baseline_median"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev" name="baseline_stdev"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad" name="baseline_mad"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_avg" name="baseline_avg"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="baseline_stats" name="baseline_stats"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="zscore" name="zscore"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="mzscore" name="mzscore"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="cscore" name="cscore"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="deviation" name="deviation"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_score" name="upper_score"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_score" name="lower_score"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_threshold" name="lower_threshold"/>
                    <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_threshold" name="upper_threshold"/>
                    <Field isOptional="true" isArray="false" clazz="" type="integer" label="conf_id" name="conf_id"/>
                    <Field isOptional="true" isArray="false" clazz="" type="string" label="trigger" name="trigger"/>
                    <Field isOptional="true" isArray="false" clazz="" type="boolean" label="new_metric" name="new_metric"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="severity" name="severity"/>
                    <Field isOptional="false" isArray="false" clazz="" type="boolean" label="is_anomaly" name="is_anomaly"/>
                    <Field isOptional="false" isArray="false" clazz="" type="integer" label="date_key" name="date_key"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model isDynamicSchema="false">
                    <Script><![CDATA[val gconf = com.vitria.viaops.ad.SolGlobalConf.getGlobalConf("${name}", "${dataSource}", vtContext)
val retval = source1.vtMap(x => {
              val severity=
                           x.anomaly_trigger.getOrElse("").toLowerCase() match {
                             case "both" => if (x.aggr_metric > x.upper_threshold.getOrElse(Double.MaxValue) || x.aggr_metric < x.lower_threshold.getOrElse(Double.MinValue)) 0 else 10
                             case "upper" => if (x.aggr_metric > x.upper_threshold.getOrElse(Double.MaxValue)) 0 else 10
                             case "lower" => if (x.aggr_metric < x.lower_threshold.getOrElse(Double.MinValue)) 0 else 10
                             case _ => 10
                           }
              viaops.anomaly.Raw_Anomaly(  
                x.adm_name.getOrElse(""),
                x.name,
                x.window_size,
                x.window_step,
                x.start_tm,
                x.end_tm,
                x.generated_tm,
                x.metric_id,
                x.dow,
                x.algorithm,
                x.aggr_metric,
                x.last_interval_metric,
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[String]],
                None.asInstanceOf[Option[String]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                None.asInstanceOf[Option[Double]],
                x.lower_threshold,
                x.upper_threshold,
                Option((x.tid.getOrElse(0L)).toInt),
                x.anomaly_trigger,
                Option(false),
                severity,
                if (severity == 0) true else false,
                gconf.formatDateKey(x.start_tm),
                x.base_metric_id,
                x.dim_keys,
                x.dim_values
              )}
        )
        ]]></Script>
                    <shellScript><![CDATA[{"global":"","custom_func":""}]]></shellScript>
                  </Model>
                </Node>
                <Node height="40" width="114.703125" y="170" x="1271" label="DroppedMetrics" type="outPort" uuid="94f951b5-5681-4c83-83da-8a83c3ca222d" index="1008_9">
                  <Source dataType="class:viaops.anomaly.Dropped_Metrics" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="9fcdff57-4b1c-4fd1-8d14-537364573e84" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_size" name="window_size"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="window_step" name="window_step"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="start_tm" name="start_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="end_tm" name="end_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="long" label="generated_tm" name="generated_tm"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dow" name="dow"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="algorithm" name="algorithm"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="seasonality" name="seasonality"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="aggr_metric" name="aggr_metric"/>
                      <Field isOptional="true" isArray="false" clazz="" isMeasure="false" isDimension="false" type="double" label="last_interval_metric" name="last_interval_metric"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="reason" name="reason"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="model_metric_id" name="model_metric_id"/>
                    </DataSource>
                  </Source>
                  <Model>
                    <Properties>
{}
</Properties>
                  </Model>
                </Node>
                <Link tgtPort="din:1" tgtId="0d58804b-406f-4079-8b63-782cf291cbd3" srcPort="dout:0" srcId="9babeaf0-9d34-451c-82f8-fa4845e455f4"/>
                <Link tgtPort="din:0" tgtId="0d58804b-406f-4079-8b63-782cf291cbd3" srcPort="out:0" srcId="68048ad8-3a52-4bd1-8e83-ed390aa609fc"/>
                <Link tgtPort="in:0" tgtId="9fcdff57-4b1c-4fd1-8d14-537364573e84" srcPort="dout:2" srcId="e14c2183-7b49-4a8f-8013-26d4e657c2da"/>
                <Link tgtPort="in:0" tgtId="9babeaf0-9d34-451c-82f8-fa4845e455f4" srcPort="out:0" srcId="758b5411-0cfc-4a4a-83b0-4075cc9f4d07"/>
                <Link tgtPort="in:0" tgtId="e14c2183-7b49-4a8f-8013-26d4e657c2da" srcPort="out:0" srcId="0d58804b-406f-4079-8b63-782cf291cbd3"/>
                <Link tgtPort="din:0" tgtId="3330da40-6317-4c8c-8425-9c68accf5d57" srcPort="dout:0" srcId="e14c2183-7b49-4a8f-8013-26d4e657c2da"/>
                <Link tgtPort="in:0" tgtId="94f951b5-5681-4c83-83da-8a83c3ca222d" srcPort="out:0" srcId="9fcdff57-4b1c-4fd1-8d14-537364573e84"/>
                <Link tgtPort="in:0" tgtId="51a0f0b7-b93e-48d5-8935-3ce384bdd949" srcPort="dout:0" srcId="3330da40-6317-4c8c-8425-9c68accf5d57"/>
                <Codes/>
                <Libraries>
                  <Lib systemPath="${VTBA_HOME}/VIAOps/libs/AnomalyDetection-1.0.jar" scope="system"/>
                </Libraries>
                <Resources/>
                <Properties>[{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;name&quot;,&quot;label&quot;:&quot;Anomaly Detection Method Name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;_dataSourceSelector&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;name&quot;:&quot;dataSource&quot;,&quot;label&quot;:&quot;Anomaly Configuration Datasource&quot;,&quot;type&quot;:&quot;object&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:{&quot;dataSource&quot;:&quot;/vitria/m3o/datasource/DefaultDomain/charter_ref_db&quot;},&quot;constraints&quot;:{&quot;type&quot;:&quot;dataSource&quot;,&quot;args&quot;:{}},&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;pull_rate&quot;,&quot;label&quot;:&quot;Anomaly Configuration Poll Rate In Minutes&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;5&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false}]</Properties>
              </Flow>
            </__subflow__>
            <__binding__><![CDATA[{"name":"","dataSource":"dataSource"}]]></__binding__>
          </Model>
        </Node>
        <Node height="90" width="138" y="40" x="380" label="Enrich MetricID" type="subflow" uuid="1b1ed3f5-5cf6-4b83-88d4-461edc9f9b91" index="1009">
          <Source dataType="class:Step4_Class" outputType="DStream" uid="0" name="TimeSeries">
            <DataSource nodeId="2414afae-2736-41aa-880f-6b5649c6dd8d" name="Out1" id="undefined" category="#OUTPUT">
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
              <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
            </DataSource>
          </Source>
          <Output dataType="class:EnrichedTimeSeries" outputType="DStream" uid="0" name="EnrichedOut">
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="model_metric_id" name="model_metric_id"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_keys" name="dim_keys"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_values" name="dim_values"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="aggr_func" name="aggr_func"/>
            <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="source_group" name="source_group"/>
          </Output>
          <Model>
            <Properties>{&quot;subFlow&quot;:&quot;remote:///viaops.anomaly/Enrich MetricID&quot;,&quot;admName&quot;:&quot;${adm_name_m}&quot;,&quot;DataSource&quot;:{&quot;dataSource&quot;:&quot;/vitria/m3o/datasource/DefaultDomain/charter_ref_db&quot;,&quot;driverType&quot;:&quot;com.mysql.jdbc.Driver&quot;},&quot;TableName&quot;:&quot;${p_system_model}&quot;,&quot;PollRate&quot;:&quot;1&quot;,&quot;case&quot;:{&quot;name&quot;:&quot;EnrichedTimeSeries&quot;,&quot;ref&quot;:&quot;false&quot;,&quot;userTyped&quot;:true}}</Properties>
            <__subflow__>
              <Flow showFooter="true" name="Enrich MetricID" referenceURI="remote:///viaops.anomaly/Enrich MetricID" acceptedSourceTypes="DStream" revision="709" isNested="true" uuid="Enrich MetricID" index="1009">
                <Node height="40" width="90.234375" y="40" x="51" label="TimeSeries" type="inPort" uuid="bdb16439-089a-45ba-8e39-bf36d6bf35e0" index="1009_1">
                  <Output dataType="class:Step4_Class" outputType="DStream" uid="0" name="Out">
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
                  </Output>
                  <Model>
                    <Properties>
{&quot;portType&quot;:&quot;*&quot;,&quot;type&quot;:{&quot;name&quot;:&quot;&quot;,&quot;kind&quot;:&quot;caseclass&quot;}}
</Properties>
                  </Model>
                </Node>
                <Node height="95" width="130" y="20" x="427" label="Enrich MetricIDs" type="EnrichMetricID" uuid="3d2fc650-e58e-45eb-8263-e15531b48b4c" index="1009_2">
                  <Source dataType="class:Step4_Class" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="bdb16439-089a-45ba-8e39-bf36d6bf35e0" name="Out" id="undefined" category="#OUTPUT">
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
                    </DataSource>
                  </Source>
                  <Source dataType="class:MetricIDs" outputType="DStream" uid="1" name="source2">
                    <DataSource nodeId="67776468-e82c-447e-8e71-07a28c01484a" name="All" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="json_qdc" name="json_qdc"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="aggr_func" name="aggr_func"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="parse_target_group" name="parse_target_group"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:EnrichedTimeSeries" outputType="DStream" uid="0" name="out">
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
                    <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="model_metric_id" name="model_metric_id"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_values" name="dim_values"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="aggr_func" name="aggr_func"/>
                    <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="source_group" name="source_group"/>
                  </Output>
                  <Model>
                    <Properties>
{&quot;parallelism&quot;:&quot;4&quot;,&quot;case&quot;:{&quot;name&quot;:&quot;EnrichedTimeSeries&quot;,&quot;ref&quot;:&quot;false&quot;,&quot;userTyped&quot;:true}}
</Properties>
                    <__binding__><![CDATA[{"output_class_name":"","enriched_case_class":"","${parallelism}":"${parallelism}","parallelism":"","case":"case"}]]></__binding__>
                  </Model>
                </Node>
                <Node height="40" width="96.703125" y="40" x="640" label="EnrichedOut" type="outPort" uuid="c2e74603-8ca8-4ff0-8323-1f5a06127ed3" index="1009_3">
                  <Source dataType="class:EnrichedTimeSeries" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="3d2fc650-e58e-45eb-8263-e15531b48b4c" name="out" id="undefined" category="#OUTPUT">
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
                      <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="model_metric_id" name="model_metric_id"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="aggr_func" name="aggr_func"/>
                      <Field isMeasure="undefined" isDimension="undefined" isOptional="false" isArray="false" type="string" label="source_group" name="source_group"/>
                    </DataSource>
                  </Source>
                  <Model>
                    <Properties>
{}
</Properties>
                  </Model>
                </Node>
                <Node height="135" width="130" y="108" x="226" label="Metrics" type="Window" uuid="67776468-e82c-447e-8e71-07a28c01484a" index="1009_4">
                  <Source dataType="class:MetricIDs" outputType="DStream" uid="0" name="source">
                    <DataSource nodeId="d3d4234d-0818-4932-83ca-3390e049d5f7" name="out" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="json_qdc" name="json_qdc"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="aggr_func" name="aggr_func"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="parse_target_group" name="parse_target_group"/>
                    </DataSource>
                  </Source>
                  <Output dataType="class:MetricIDs" outputType="DStream" uid="0" name="All">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="json_qdc" name="json_qdc"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="aggr_func" name="aggr_func"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="parse_target_group" name="parse_target_group"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:MetricIDs" outputType="DStream" uid="1" name="Changes">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="json_qdc" name="json_qdc"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="aggr_func" name="aggr_func"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="parse_target_group" name="parse_target_group"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:MetricIDs" outputType="DStream" uid="2" name="Expired">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="json_qdc" name="json_qdc"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="aggr_func" name="aggr_func"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="parse_target_group" name="parse_target_group"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Output dataType="class:MetricIDs" outputType="DStream" uid="3" name="Deleted">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="json_qdc" name="json_qdc"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="aggr_func" name="aggr_func"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="parse_target_group" name="parse_target_group"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model restoreState="false" checkpointInterval="/S" partition="" windowPolicy="attribute">
                    <Time mode="system"/>
                    <GroupKeys numPerGroup="1" policy="latest">
                      <GroupKey field="metric_id"/>
                    </GroupKeys>
                    <Expirations baseline="lastevent" duration="/N"/>
                  </Model>
                </Node>
                <Node height="75" width="130" y="108" x="51" label="Load System Model" type="Adhoc" uuid="d3d4234d-0818-4932-83ca-3390e049d5f7" index="1009_5">
                  <Output referenceType="MetricIDs" dataType="class:MetricIDs" outputType="DStream" uid="0" name="out">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="json_qdc" name="json_qdc"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="aggr_func" name="aggr_func"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="parse_target_group" name="parse_target_group"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model isDynamicSchema="false">
                    <Schema>
                      <Field wrapName="metric_id" isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                      <Field wrapName="sql_qdc" isOptional="false" isArray="false" clazz="" type="string" label="sql_qdc" name="sql_qdc"/>
                      <Field wrapName="json_qdc" isOptional="false" isArray="false" clazz="" type="string" label="json_qdc" name="json_qdc"/>
                      <Field wrapName="aggr_func" isOptional="false" isArray="false" clazz="" type="string" label="aggr_func" name="aggr_func"/>
                      <Field wrapName="parse_source_group" isOptional="false" isArray="false" clazz="" type="string" label="parse_source_group" name="parse_source_group"/>
                      <Field wrapName="parse_source_name" isOptional="false" isArray="false" clazz="" type="string" label="parse_source_name" name="parse_source_name"/>
                      <Field wrapName="parse_target_group" isOptional="false" isArray="false" clazz="" type="string" label="parse_target_group" name="parse_target_group"/>
                      <Field wrapName="parse_target_app" isOptional="false" isArray="false" clazz="" type="string" label="parse_target_app" name="parse_target_app"/>
                      <Field wrapName="parse_target_metric" isOptional="false" isArray="false" clazz="" type="string" label="parse_target_metric" name="parse_target_metric"/>
                      <Field wrapName="modified_ts" isOptional="false" isArray="false" clazz="" type="datetime" label="modified_ts" name="modified_ts"/>
                    </Schema>
                    <Script><![CDATA[   
  import com.vitria.spark.streaming.api.scala.VitriaDStreamPairFunctions._
  import org.apache.spark.streaming.dstream.DStream.toPairDStreamFunctions
  import org.apache.spark.streaming.dstream.VtJdbcDStream
  import org.apache.spark.util.jdbc.VitriaJdbcRDD
  import com.vitria.spark.jdbc.stream.VtJdbcQueryObject
  import com.vitria.spark.jdbc.stream.VTJdbcDStreamBuild
  import com.vitria.spark.jdbc.ConnectionSetting
  import com.vitria.spark.jdbc.QuerySetting
  import com.vitria.spark.jdbc.VtDBUtil
  import com.vitria.spark.jdbc.types.Java2Scala
  import com.vitria.spark.jdbc.VtParse
  import org.apache.spark.util.jdbc.VitriaJdbcRDD
  import java.util.UUID
  import com.vitria.spark.util.VtJsonParser
  import scala.collection.mutable.{ Map => MMap }
  import com.vitria.spark.jdbc.JdbcUtils
  import com.vitria.viaops.ad.DBUtils

  val schema = null
  val table = "${TableName}"
  val datasource = DBUtils.parseDatasource("${DataSource}").get("dataSource")

  def cs = {
import org.apache.spark.sql.rdbms.ConnectionSettingUtil
ConnectionSettingUtil.getOrCreate("custom_block_source_metric_ids", {
  val map = new java.util.HashMap[String, String]()
  map.put(javax.naming.Context.PROVIDER_URL, vtContext.getProperty("vitria.domain.provider.url"))
  map.put(javax.naming.Context.SECURITY_PRINCIPAL, vtContext.getProperty("vitria.domain.naming.user"))
  map.put(javax.naming.Context.SECURITY_CREDENTIALS, VtDBUtil.unencrypt(vtContext.getProperty("vitria.domain.naming.password")))
  val dsinfo = VtDBUtil.getDataSourceInfo(datasource, map)
  val url = dsinfo.get("url")
  val driver = dsinfo.get("driver")
  val user = dsinfo.get("user")
  val pwd = dsinfo.get("password")

  Class.forName(driver)
  val csf = new ConnectionSetting(driver, url, user, pwd)
  val connProps = new java.util.Properties()
  connProps.put("DomainServiceProviderURL", vtContext.getProperty("vitria.domain.provider.url"))
  connProps.put("vitria.domain.naming.user", vtContext.getProperty("vitria.domain.naming.user"))
  connProps.put("vitria.domain.naming.password", VtDBUtil.unencrypt(vtContext.getProperty("vitria.domain.naming.password")))
  csf.setProps(connProps)

  csf
})
  }

  val qs = new QuerySetting
  qs.setInc(false)

  qs.setDbType(VtDBUtil.getDBType(cs))

  var isAdvanced = true
  qs.setAdvanced(isAdvanced)
  if (isAdvanced) {
val sql = """|SELECT ${TableName}.metric_id, ${TableName}.base_metric_id, ${TableName}.dim_keys, ${TableName}.dim_values,
         | ${TableName}.json_qdc, ${TableName}.aggr_func, ${TableName}.parse_target_group
         |FROM ${TableName} JOIN viaops_anomaly_algorithm 
         |   ON viaops_anomaly_algorithm.metric_id = ${TableName}.metric_id 
         |WHERE viaops_anomaly_algorithm.adm_name='${admName}' 
         | AND viaops_anomaly_algorithm.enabled=1""".stripMargin
qs.setAdvancedInitSQL(sql)
qs.setAdvancedIncSQL(null)
  } else {
qs.setSchema(null)
qs.setTable(null)
qs.setFilter(null)
  }

  qs.setColumns(Array(
("metric_id", null, "string", false),
("base_metric_id", null, "string", false),
("dim_keys", null, "string", false),
("dim_values", null, "string", false),
("json_qdc", null, "string", false),
("aggr_func", null, "string", false),
("parse_target_group", null, "string", false)))
  qs.setOrderKeys(Array())

  qs.setPollRate(${PollRate} * 60 * 1000L)
  qs.initlize

  val ss = VTJdbcDStreamBuild.jdbcDStream2(ssc, cs, qs)

  val retval = ss.flatMap { row =>

try {
  val vall = MetricIDs(
  Java2Scala.convert[String](row(0)), 
  Java2Scala.convert[String](row(1)), 
  Java2Scala.convert[String](row(2)), 
  Java2Scala.convert[String](row(3)),
  Java2Scala.convert[String](row(4)), 
  Java2Scala.convert[String](row(5)), 
  Java2Scala.convert[String](row(6)))
  Some(vall)
} catch {
  case e: Throwable => {
logger.warn("Ignore bad row " + row.mkString(", "), e)
None
  }
}
  }]]></Script>
                    <shellScript><![CDATA[{"global":"","custom_func":""}]]></shellScript>
                  </Model>
                </Node>
                <Node height="75" width="130" y="166" x="420" label="Check Empty" type="Adhoc" uuid="2cb7729b-0245-49e3-882e-0e6d8e0d4b28" index="1009_6">
                  <Source dataType="class:MetricIDs" outputType="DStream" uid="0" name="source1">
                    <DataSource nodeId="67776468-e82c-447e-8e71-07a28c01484a" name="All" id="undefined" category="#OUTPUT">
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="metric_id" name="metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="base_metric_id" name="base_metric_id"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_keys" name="dim_keys"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="dim_values" name="dim_values"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="json_qdc" name="json_qdc"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="aggr_func" name="aggr_func"/>
                      <Field isOptional="false" isArray="false" clazz="" isMeasure="false" isDimension="false" type="string" label="parse_target_group" name="parse_target_group"/>
                    </DataSource>
                  </Source>
                  <Output referenceType="MetricIDs" dataType="class:MetricIDs" outputType="DStream" uid="0" name="Out1">
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="json_qdc" name="json_qdc"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="aggr_func" name="aggr_func"/>
                    <Field isOptional="false" isArray="false" clazz="" type="string" label="parse_target_group" name="parse_target_group"/>
                    <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
                  </Output>
                  <Model>
                    <Script><![CDATA[val retval = source1
source1.foreachRDD((rdd, t) => {
logger_.info(s"""The count of the metrics in system model: ${rdd.count()}""")
})]]></Script>
                  </Model>
                </Node>
                <Link tgtPort="in:1" tgtId="3d2fc650-e58e-45eb-8263-e15531b48b4c" srcPort="dout:0" srcId="67776468-e82c-447e-8e71-07a28c01484a"/>
                <Link tgtPort="in:0" tgtId="c2e74603-8ca8-4ff0-8323-1f5a06127ed3" srcPort="out:0" srcId="3d2fc650-e58e-45eb-8263-e15531b48b4c"/>
                <Link tgtPort="in:0" tgtId="3d2fc650-e58e-45eb-8263-e15531b48b4c" srcPort="out:0" srcId="bdb16439-089a-45ba-8e39-bf36d6bf35e0"/>
                <Link tgtPort="in:0" tgtId="67776468-e82c-447e-8e71-07a28c01484a" srcPort="dout:0" srcId="d3d4234d-0818-4932-83ca-3390e049d5f7"/>
                <Link tgtPort="din:0" tgtId="2cb7729b-0245-49e3-882e-0e6d8e0d4b28" srcPort="dout:0" srcId="67776468-e82c-447e-8e71-07a28c01484a"/>
                <Codes/>
                <Libraries/>
                <Resources/>
                <Properties>[{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;admName&quot;,&quot;label&quot;:&quot;Anomaly Detection Method Name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;_dataSourceSelector&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;name&quot;:&quot;DataSource&quot;,&quot;label&quot;:&quot;System Model Datasource&quot;,&quot;type&quot;:&quot;object&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:{&quot;dataSource&quot;:&quot;/vitria/m3o/datasource/DefaultDomain/charter_ref_db&quot;,&quot;driverType&quot;:&quot;com.mysql.jdbc.Driver&quot;},&quot;constraints&quot;:{&quot;type&quot;:&quot;dataSource&quot;,&quot;args&quot;:{}},&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;TableName&quot;,&quot;label&quot;:&quot;System Model Table Name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;charter_service_model&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;PollRate&quot;,&quot;label&quot;:&quot;Poll Rate (Minutes)&quot;,&quot;type&quot;:&quot;long&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:1,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;name&quot;:&quot;case&quot;,&quot;label&quot;:&quot;Case Class&quot;,&quot;type&quot;:&quot;object&quot;,&quot;excluded&quot;:true,&quot;impactSchema&quot;:true,&quot;constraints&quot;:&quot;caseClass&quot;,&quot;value&quot;:{&quot;name&quot;:&quot;EnrichedTimeSeries&quot;,&quot;ref&quot;:&quot;false&quot;,&quot;userTyped&quot;:true},&quot;editorType&quot;:&quot;caseClass&quot;,&quot;group&quot;:&quot;common&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;runtimeControl&quot;:false}]</Properties>
                <Types>[{&quot;name&quot;:&quot;MetricIDs&quot;,&quot;namespace&quot;:&quot;&quot;,&quot;schema&quot;:[{&quot;name&quot;:&quot;metric_id&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;base_metric_id&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;dim_keys&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;dim_values&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;json_qdc&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;aggr_func&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false},{&quot;name&quot;:&quot;parse_target_group&quot;,&quot;type&quot;:&quot;string&quot;,&quot;_isOptional&quot;:false,&quot;_isArray&quot;:false}]}]</Types>
              </Flow>
            </__subflow__>
            <__binding__><![CDATA[{"dataSource":"dataSource"}]]></__binding__>
          </Model>
        </Node>
        <Node height="75" width="130" y="40" x="1510" label="Incident HDFS" type="StreamTarget" uuid="a7609310-7f78-4c5e-83ee-4517df4afbe7" index="1010">
          <Source dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="source">
            <DataSource nodeId="9fe5fa8b-9bb3-45ed-84ef-4f81d83a270e" name="Out" id="undefined" category="#OUTPUT">
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="adm_name" name="adm_name"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="algorithm_name" name="algorithm_name"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="window_size" name="window_size"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="window_step" name="window_step"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="start_tm" name="start_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="end_tm" name="end_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="generated_tm" name="generated_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="metric_id" name="metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dow" name="dow"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="algorithm" name="algorithm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="aggr_metric" name="aggr_metric"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="last_interval_metric" name="last_interval_metric"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_median" name="baseline_median"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_stdev" name="baseline_stdev"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_mad" name="baseline_mad"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="baseline_avg" name="baseline_avg"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="median_baseline" name="median_baseline"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="mean_baseline" name="mean_baseline"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="baseline_stats" name="baseline_stats"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="score_method" name="score_method"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="zscore" name="zscore"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="mzscore" name="mzscore"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="cscore" name="cscore"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="deviation" name="deviation"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="upper_score" name="upper_score"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="lower_score" name="lower_score"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="lower_threshold" name="lower_threshold"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="upper_threshold" name="upper_threshold"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="integer" label="conf_id" name="conf_id"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="trigger" name="trigger"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="boolean" label="new_metric" name="new_metric"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="integer" label="severity" name="severity"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="boolean" label="is_anomaly" name="is_anomaly"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="integer" label="date_key" name="date_key"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="base_metric_id" name="base_metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dim_keys" name="dim_keys"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dim_values" name="dim_values"/>
            </DataSource>
          </Source>
          <Output dataType="class:viaops.anomaly.Raw_Anomaly" outputType="DStream" uid="0" name="out">
            <Field isOptional="false" isArray="false" clazz="" type="string" label="adm_name" name="adm_name"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="algorithm_name" name="algorithm_name"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
            <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_median" name="baseline_median"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev" name="baseline_stdev"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad" name="baseline_mad"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_hly" name="baseline_stdev_hly"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_hly" name="baseline_mad_hly"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkl" name="baseline_stdev_wkl"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkl" name="baseline_mad_wkl"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_stdev_wkh" name="baseline_stdev_wkh"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_mad_wkh" name="baseline_mad_wkh"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="baseline_avg" name="baseline_avg"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="median_baseline" name="median_baseline"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="mean_baseline" name="mean_baseline"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="baseline_stats" name="baseline_stats"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="score_method" name="score_method"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="zscore" name="zscore"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="mzscore" name="mzscore"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="cscore" name="cscore"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="deviation" name="deviation"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_score" name="upper_score"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_score" name="lower_score"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="lower_threshold" name="lower_threshold"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="upper_threshold" name="upper_threshold"/>
            <Field isOptional="true" isArray="false" clazz="" type="integer" label="conf_id" name="conf_id"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="trigger" name="trigger"/>
            <Field isOptional="true" isArray="false" clazz="" type="boolean" label="new_metric" name="new_metric"/>
            <Field isOptional="false" isArray="false" clazz="" type="integer" label="severity" name="severity"/>
            <Field isOptional="false" isArray="false" clazz="" type="boolean" label="is_anomaly" name="is_anomaly"/>
            <Field isOptional="false" isArray="false" clazz="" type="integer" label="date_key" name="date_key"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Model dataVolume="" dataSpeed="" partitionNum="1" format="json" namePrefix="${incident_file_prefix}" url="${incident_url}" type="file"/>
        </Node>
        <Node height="75" width="130" y="213" x="1320" label="Add UTC date_key" type="Compute" uuid="26f11f6b-4a61-456c-8744-d0d7c23b671e" index="1011">
          <Source dataType="class:viaops.anomaly.Dropped_Metrics" outputType="DStream" uid="0" name="source">
            <DataSource nodeId="bb5ab448-037b-4547-8a32-9de419a928a1" name="DroppedMetrics" id="undefined" category="#OUTPUT">
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="window_size" name="window_size"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="window_step" name="window_step"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="start_tm" name="start_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="end_tm" name="end_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="long" label="generated_tm" name="generated_tm"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="metric_id" name="metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dow" name="dow"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="algorithm" name="algorithm"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="seasonality" name="seasonality"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="aggr_metric" name="aggr_metric"/>
              <Field isOptional="true" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="double" label="last_interval_metric" name="last_interval_metric"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="reason" name="reason"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="base_metric_id" name="base_metric_id"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dim_keys" name="dim_keys"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="dim_values" name="dim_values"/>
              <Field isOptional="false" isArray="false" clazz="" isMeasure="undefined" isDimension="undefined" type="string" label="model_metric_id" name="model_metric_id"/>
            </DataSource>
          </Source>
          <Output dataType="class:AddUTCdate_key_Class" outputType="DStream" uid="0" name="out">
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_size" name="window_size"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="window_step" name="window_step"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="start_tm" name="start_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="end_tm" name="end_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="long" label="generated_tm" name="generated_tm"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="metric_id" name="metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dow" name="dow"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="algorithm" name="algorithm"/>
            <Field isOptional="true" isArray="false" clazz="" type="string" label="seasonality" name="seasonality"/>
            <Field isOptional="false" isArray="false" clazz="" type="double" label="aggr_metric" name="aggr_metric"/>
            <Field isOptional="true" isArray="false" clazz="" type="double" label="last_interval_metric" name="last_interval_metric"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="reason" name="reason"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="base_metric_id" name="base_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_keys" name="dim_keys"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="dim_values" name="dim_values"/>
            <Field isOptional="false" isArray="false" clazz="" type="string" label="model_metric_id" name="model_metric_id"/>
            <Field isOptional="false" isArray="false" clazz="" type="integer" label="date_key" name="date_key"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Model isClassRef="false" _caseClass="AddUTCdate_key_Class">
            <Computes>
              <Compute wordWarp="true" alias="window_size" outputType="long" value="window_size" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="window_step" outputType="long" value="window_step" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="start_tm" outputType="long" value="start_tm" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="end_tm" outputType="long" value="end_tm" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="generated_tm" outputType="long" value="generated_tm" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="metric_id" outputType="string" value="metric_id" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="dow" outputType="string" value="dow" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="algorithm" outputType="string" value="algorithm" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="seasonality" outputType="string" value="seasonality" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="aggr_metric" outputType="double" value="aggr_metric" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="last_interval_metric" outputType="double" value="last_interval_metric" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="reason" outputType="string" value="reason" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="base_metric_id" outputType="string" value="base_metric_id" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="dim_keys" outputType="string" value="dim_keys" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="dim_values" outputType="string" value="dim_values" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="model_metric_id" outputType="string" value="model_metric_id" arg="" field="*" op="sleText"/>
              <Compute wordWarp="true" alias="date_key" outputType="integer" value="cast(format_date(from_unixtime_millisec(start_tm* 1000), &quot;yyyyMMdd&quot;, &quot;UTC&quot;), &quot;int&quot;)" arg="" field="" op="sleText"/>
            </Computes>
            <CheckboxStatus isChecked="true"/>
          </Model>
        </Node>
        <Node height="95" width="130" y="40" x="190" label="Parse" type="Parse" uuid="2414afae-2736-41aa-880f-6b5649c6dd8d" index="1012">
          <Source dataType="String" outputType="DStream" uid="0" name="source">
            <DataSource nodeId="bfa5a694-bb0b-4843-8980-f81a653fe7af" name="Out1" id="undefined" category="#OUTPUT">
              <Field isOptional="false" isArray="false" isMeasure="false" isDimension="false" type="string" label="data" name="data"/>
            </DataSource>
          </Source>
          <Output dataType="class:Step4_Class" outputType="DStream" uid="0" name="Out1">
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
            <Field clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
          </Output>
          <Output dataType="(String,String)" outputType="DStream" uid="1" name="Dropped">
            <Field isOptional="false" isArray="false" type="string" label="error" name="___error___"/>
            <Field isOptional="false" isArray="false" type="string" label="data" name="data"/>
            <ExploreConfig>{&quot;_index&quot;:&quot;Default&quot;,&quot;items&quot;:[{&quot;name&quot;:&quot;Default&quot;}]}</ExploreConfig>
          </Output>
          <Model daylight="false" timezone="Etc/UTC" header="" dropEvent="true" addable="true" fromHeader="true" isClassRef="false" caseClass="Step4_Class" format="json">
            <Schema>
              <Field excluded="false" initName="aggr_start_tm" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_start_tm" name="aggr_start_tm"/>
              <Field excluded="false" initName="aggr_end_tm" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="aggr_end_tm" name="aggr_end_tm"/>
              <Field excluded="false" initName="app" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="app" name="app"/>
              <Field excluded="false" initName="ts_key" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_key" name="ts_key"/>
              <Field excluded="false" initName="ts_value" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ts_value" name="ts_value"/>
              <Field excluded="false" initName="system_tm" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="system_tm" name="system_tm"/>
              <Field excluded="false" initName="process_type" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="process_type" name="process_type"/>
              <Field excluded="false" initName="aggr_type" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="aggr_type" name="aggr_type"/>
              <Field excluded="false" initName="source_fmt" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_fmt" name="source_fmt"/>
              <Field excluded="false" initName="source_tz" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="source_tz" name="source_tz"/>
              <Field excluded="false" initName="date_key" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="long" label="date_key" name="date_key"/>
              <Field excluded="false" initName="metric_name" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_name" name="metric_name"/>
              <Field excluded="false" initName="metric_value" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="double" label="metric_value" name="metric_value"/>
              <Field excluded="false" initName="metric_uom" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="metric_uom" name="metric_uom"/>
              <Field excluded="false" initName="env" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="env" name="env"/>
              <Field excluded="false" initName="mac_addr" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="mac_addr" name="mac_addr"/>
              <Field excluded="false" initName="status" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="status" name="status"/>
              <Field excluded="false" initName="host" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="host" name="host"/>
              <Field excluded="false" initName="cmts" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="cmts" name="cmts"/>
              <Field excluded="false" initName="prov_speed" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="prov_speed" name="prov_speed"/>
              <Field excluded="false" initName="ip_addr" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="ip_addr" name="ip_addr"/>
              <Field excluded="false" initName="node" clazz="" isMeasure="false" isDimension="false" isOptional="false" isArray="false" type="string" label="node" name="node"/>
            </Schema>
          </Model>
        </Node>
        <Link tgtPort="din:0" tgtId="1b1ed3f5-5cf6-4b83-88d4-461edc9f9b91" srcPort="dout:0" srcId="2414afae-2736-41aa-880f-6b5649c6dd8d"/>
        <Link tgtPort="in:0" tgtId="2414afae-2736-41aa-880f-6b5649c6dd8d" srcPort="dout:0" srcId="bfa5a694-bb0b-4843-8980-f81a653fe7af"/>
        <Link tgtPort="in:0" tgtId="26f11f6b-4a61-456c-8744-d0d7c23b671e" srcPort="dout:1" srcId="bb5ab448-037b-4547-8a32-9de419a928a1"/>
        <Link tgtPort="in:0" tgtId="26f11f6b-4a61-456c-8744-d0d7c23b671e" srcPort="dout:1" srcId="9d55632e-3d68-4d3d-80fb-3ec12f8041a4"/>
        <Link tgtPort="din:0" tgtId="9fe5fa8b-9bb3-45ed-84ef-4f81d83a270e" srcPort="dout:0" srcId="bb5ab448-037b-4547-8a32-9de419a928a1"/>
        <Link tgtPort="din:0" tgtId="bb5ab448-037b-4547-8a32-9de419a928a1" srcPort="dout:0" srcId="727dd54e-99ce-4e82-89d2-51646aa97d55"/>
        <Link tgtPort="in:0" tgtId="727dd54e-99ce-4e82-89d2-51646aa97d55" srcPort="dout:0" srcId="32acad17-e402-4692-8352-9c8b956bf1c4"/>
        <Link tgtPort="in:0" tgtId="54a00937-cda3-4fcb-816f-99f01118897b" srcPort="dout:1" srcId="32acad17-e402-4692-8352-9c8b956bf1c4"/>
        <Link tgtPort="din:0" tgtId="9d55632e-3d68-4d3d-80fb-3ec12f8041a4" srcPort="dout:1" srcId="727dd54e-99ce-4e82-89d2-51646aa97d55"/>
        <Link tgtPort="din:0" tgtId="32acad17-e402-4692-8352-9c8b956bf1c4" srcPort="dout:0" srcId="1b1ed3f5-5cf6-4b83-88d4-461edc9f9b91"/>
        <Link tgtPort="in:0" tgtId="a7609310-7f78-4c5e-83ee-4517df4afbe7" srcPort="dout:0" srcId="9fe5fa8b-9bb3-45ed-84ef-4f81d83a270e"/>
        <Link tgtPort="din:0" tgtId="9fe5fa8b-9bb3-45ed-84ef-4f81d83a270e" srcPort="dout:0" srcId="9d55632e-3d68-4d3d-80fb-3ec12f8041a4"/>
        <Link tgtPort="in:0" tgtId="381f3a4e-83a8-4774-8e14-b92b69275f89" srcPort="out:0" srcId="26f11f6b-4a61-456c-8744-d0d7c23b671e"/>
        <Codes/>
        <Libraries>
          <Lib systemPath="${VTBA_HOME}/wildfly/modules/com/vitria/driver/main/mysql-connector-java-*-bin.jar" scope="system"/>
        </Libraries>
        <Resources/>
        <Properties>[{&quot;name&quot;:&quot;dataSource&quot;,&quot;label&quot;:&quot;Anomaly Configuration Datasource&quot;,&quot;type&quot;:&quot;object&quot;,&quot;editorID&quot;:&quot;_dataSourceSelector&quot;,&quot;value&quot;:{&quot;dataSource&quot;:&quot;/vitria/m3o/datasource/DefaultDomain/charter_ref_db&quot;,&quot;driverType&quot;:&quot;com.mysql.jdbc.Driver&quot;},&quot;editorType&quot;:&quot;_dataSourceSelector&quot;,&quot;runtimeControl&quot;:false,&quot;constraints&quot;:{&quot;type&quot;:&quot;dataSource&quot;,&quot;args&quot;:{}}},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;pull_r&quot;,&quot;label&quot;:&quot;Anomaly Configuration Poll Rate in Minutes&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;5&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;s_date&quot;,&quot;label&quot;:&quot;Start Date&quot;,&quot;type&quot;:&quot;string&quot;,&quot;optional&quot;:true,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot; &quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;name&quot;:&quot;adm_name_m&quot;,&quot;label&quot;:&quot;Anomaly Detection Method Name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;speed_test_log1_table-5/5&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;name&quot;:&quot;m_source&quot;,&quot;label&quot;:&quot;Metric Source&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;hdfs://master:8020/nuova_stella/anomaly/speed_test_log1_source&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;incident_url&quot;,&quot;label&quot;:&quot;Incident Target&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;hdfs://master:8020/charter_data/viaops/stream_anomaly&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;incident_file_prefix&quot;,&quot;label&quot;:&quot;Incident File Prefix&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;speed_test_log1-5min&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;name&quot;:&quot;dropped_metric&quot;,&quot;label&quot;:&quot;Dropped Source Metric&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;speed_test_log1_dropped_metric&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;name&quot;:&quot;anomaly&quot;,&quot;label&quot;:&quot;Anomaly Table Name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;viaops_metric_history&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;name&quot;:&quot;dropped_aggr_metrics&quot;,&quot;label&quot;:&quot;Dropped Aggregated Metrics&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;viaops_audit_anomaly_dropped&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;baseline_table_name&quot;,&quot;label&quot;:&quot;Baseline Table Name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;viaops_baseline&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;override_baseline_table_name&quot;,&quot;label&quot;:&quot;Override Baseline Table Name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;viaops_override_baseline&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;percentile&quot;,&quot;label&quot;:&quot;Percentile Table Name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;viaops_percentile&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;statistic&quot;,&quot;label&quot;:&quot;Statistic Table Name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;viaops_statistics&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false},{&quot;editorType&quot;:&quot;textInput&quot;,&quot;*&quot;:{&quot;label&quot;:&quot;label&quot;,&quot;desc&quot;:&quot;desc&quot;},&quot;group&quot;:&quot;common&quot;,&quot;name&quot;:&quot;p_system_model&quot;,&quot;label&quot;:&quot;System Model Table&quot;,&quot;type&quot;:&quot;string&quot;,&quot;hidden&quot;:&quot;false&quot;,&quot;disabled&quot;:false,&quot;resolveProperty&quot;:false,&quot;value&quot;:&quot;viaops_metric_qdc&quot;,&quot;enumSource&quot;:&quot;&quot;,&quot;runtimeControl&quot;:false}]</Properties>
      </Flow>
    </Flows>
  </ModelInfo>
</DataPipeModel>
